import{d as N,E as t,bc as O,bd as k,a1 as B,o as s,a as i,f as b,w as F,a3 as K,a4 as j,aD as C,aE as y,b as z,t as A,C as v,U as w,a8 as I,H as L}from"./index-60943df8.js";const M=["onClick"],P=["onClick"],U=N({__name:"BalAccordion",props:{sections:{},dependencies:{},showSectionBorder:{type:Boolean,default:!0},reCalcKey:{default:0},isOpenedByDefault:{type:Boolean,default:!1}},setup(E){const c=E,n=t(""),d=t(),_=t(),h=t(),p=t(),g=t([]),H=t(0),l=t(!1),S=t(),D=t(0),m=t(0);async function f(e,r=!0){const o=c.sections.find(a=>a.id===e);if(o!=null&&o.isDisabled)return;n.value===e&&r?(n.value="",l.value=!1):(n.value=e,l.value=!0),await k(),d.value&&_.value&&(S.value=d.value.clientHeight,l.value=!1),l.value=!0}O(async()=>{var e,r,o,u;l.value=!0,H.value=((e=h.value)==null?void 0:e.offsetHeight)||0,D.value=((r=p.value)==null?void 0:r.offsetHeight)||0,m.value=((o=h.value)==null?void 0:o.offsetHeight)||0;for(const a of c.sections)n.value=a.id,await k(),m.value=m.value+(((u=d.value)==null?void 0:u.offsetHeight)||0);n.value="",l.value=!1});function $(e){var r;e&&((r=g.value)!=null&&r.includes(e)||g.value.push(e))}return B(()=>c.dependencies,()=>{f(n.value,!1)}),B(()=>c.reCalcKey,e=>{e&&n.value&&f(n.value,!1)}),(e,r)=>{const o=I,u=L;return s(),i("div",{ref_key:"wrapperElement",ref:h},[b(u,{hFull:"",noPad:"",shadow:"none",class:"overflow-visible rounded-xl"},{default:F(()=>[(s(!0),i(K,null,j(e.sections,(a,V)=>(s(),i("div",{key:a.id,ref_for:!0,ref:$,class:"flex flex-col"},[a.handle?(s(),i("div",{key:0,ref_for:!0,ref_key:"handleBarElement",ref:p,onClick:x=>f(a.id)},[C(e.$slots,a.handle)],8,M)):(s(),i("button",{key:1,ref_for:!0,ref_key:"handleBarElement",ref:p,class:y(["transition-all w-full flex justify-between p-3 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl",{"border-b dark:border-gray-900":V!==e.sections.length-1}]),onClick:x=>f(a.id)},[z("h6",null,A(a.title),1),b(o,{class:y(["text-blue-400",[v(n)===a.id?"-rotate-180":"rotate-0","transform transition-all"]]),name:"chevron-down"},null,8,["class"])],10,P)),v(n)===a.id||e.isOpenedByDefault?(s(),i("div",{key:2,ref_for:!0,ref_key:"accordionHeightSetterElement",ref:_,class:"relative"},[v(l)||e.isOpenedByDefault?(s(),i("div",{key:0,ref_for:!0,ref_key:"activeSectionElement",ref:d,class:y({"border-b dark:border-gray-900 active-section rounded-b":v(l)&&e.showSectionBorder})},[C(e.$slots,a.id)],2)):w("",!0)],512)):w("",!0)]))),128))]),_:3})],512)}}});export{U as _};
//# sourceMappingURL=BalAccordion.vue_vue_type_script_setup_true_lang-cc7bb03c.js.map
