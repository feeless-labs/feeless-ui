import{d as x,x as y,am as v,an as B,u as C,E as h,c as t,o as T,B as F,C as e,b8 as L,a7 as k}from"./index-60943df8.js";const N=x({__name:"TxActionBtn",props:{actionFn:{},action:{},summary:{},confirmingLabel:{},onConfirmFn:{},disabled:{type:Boolean,default:!1},disableNotification:{type:Boolean}},emits:["init","confirming","confirmed","failed"],setup(l,{emit:r}){const n=l,i=r,{t:d}=y(),{addTransaction:m}=v(),{txListener:f}=B(),{isMismatchedNetwork:u}=C(),a=h(0),s=t(()=>a.value===1),p=t(()=>a.value===2),b=t(()=>s.value?d("confirm"):n.confirmingLabel);async function _(){try{a.value=1,i("init");const o=await n.actionFn();a.value=2,i("confirming",o),n.disableNotification||m({id:o.hash,type:"tx",action:n.action,summary:n.summary}),await f(o,{onTxConfirmed:async c=>{n.onConfirmFn&&n.onConfirmFn(),a.value=3,i("confirmed",c)},onTxFailed:()=>{console.error("Tx failed"),a.value=0,i("failed")}})}catch(o){a.value=0,console.error(o)}}return(o,c)=>{const g=k;return T(),F(g,{loadingLabel:e(b),loading:e(s)||e(p),disabled:n.disabled||e(u),onClick:L(_,["stop"])},null,8,["loadingLabel","loading","disabled"])}}});export{N as _};
//# sourceMappingURL=TxActionBtn.vue_vue_type_script_setup_true_lang-27990a4e.js.map
