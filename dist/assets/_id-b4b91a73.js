import{ab as Ct,b0 as It,ad as Vt,d as E,b1 as he,aA as we,u as ee,l as ue,b2 as Ve,c as p,G,o,a as S,C as e,B as b,b as s,f as i,b3 as Ge,b4 as Qe,b5 as Oe,e as q,t as f,a7 as ye,y as re,k as ne,D as it,b6 as Ie,b7 as Nt,w as d,F as Z,b8 as Mt,U as V,H as me,j as rt,_ as te,ah as ct,b9 as ut,a9 as dt,aE as ae,a3 as W,a4 as ce,a8 as oe,a5 as ve,ba as Dt,aD as pt,x as pe,bb as Rt,E as X,bc as Ee,bd as mt,be as Ft,aq as Ce,bf as vt,a$ as ze,bg as Ot,bh as zt,ap as gt,bi as qt,bj as Ke,bk as Et,bl as Je,bm as Ze,r as de,Q as Pe,aK as Ne,aM as U,aL as Ae,n as Me,bn as je,bo as _t,z as qe,bp as ft,bq as Te,J as yt,br as Xe,bs as jt,bt as kt,a0 as et,aY as $e,aB as Ht,bu as Ut,aa as Wt,bv as ht,aH as Yt,aQ as bt,m as wt,bw as Gt,K as Pt,bx as Qt,I as Kt,by as Jt,bz as Zt,bA as Xt,aV as eo,bB as to,aR as oo,a1 as so,p as ao,g as no,bC as lo}from"./index-60943df8.js";import{B as Be,_ as fe}from"./BalAsset-68194947.js";import{u as $t}from"./useDisabledJoinPool-1947dad7.js";import{u as Le}from"./pool-staking.provider-018db08c.js";import{u as He,a as io,p as ro,b as co}from"./user-pools.provider-31628f0d.js";import{_ as Ue}from"./BalTabs.vue_vue_type_style_index_0_lang-6658ba02.js";import{u as xe}from"./useBreakpoints-76e5f77c.js";import{_ as uo}from"./BalChart.vue_vue_type_script_setup_true_lang-f6feb788.js";import{_ as po}from"./BalBlankSlate.vue_vue_type_style_index_0_lang-fb55cd08.js";import{P as mo}from"./constants-5d025550.js";import{_ as vo}from"./BalPopover-5c2abaf0.js";import{_ as De}from"./BalAlert-7103ffb1.js";import{L as go}from"./echarts-eb254b25.js";import{_ as Se}from"./BalTooltip.vue_vue_type_style_index_0_lang-8cf64573.js";import{_ as Lt}from"./APRTooltip.vue_vue_type_script_setup_true_lang-7ca94d25.js";import{_ as We}from"./BalTable.vue_vue_type_style_index_0_lang-bf21b918.js";import{_ as xt}from"./BalAccordion.vue_vue_type_script_setup_true_lang-cc7bb03c.js";import{A as ie}from"./BalActionSteps.vue_vue_type_script_setup_true_lang-cd43f961.js";import{_ as Tt}from"./StakePreviewModal.vue_vue_type_script_setup_true_lang-d41a00fd.js";import{_ as _o}from"./CheckpointGaugeModal.vue_vue_type_script_setup_true_lang-2cec8479.js";import{_ as fo}from"./UnlockPreviewModal.vue_vue_type_script_setup_true_lang-e5bd9b8c.js";import{_ as yo}from"./BalChip-810690c3.js";import{_ as At}from"./BalChipNew.vue_vue_type_script_setup_true_lang-42797145.js";import{u as Ye}from"./usePoolQuery-da6fa219.js";import{_ as ko}from"./BalAssetSet-c1957457.js";import{_ as ho}from"./TokenPills.vue_vue_type_script_setup_true_lang-ee78290c.js";import{u as bo}from"./pool.provider-3818d1b8.js";import"./numeral-088ce989.js";import"./BalVStack.vue_vue_type_script_setup_true_lang-a25ce916.js";import"./BalHStack.vue_vue_type_script_setup_true_lang-f88d7582.js";import"./anime.es-37453147.js";import"./BalCircle-528e0679.js";import"./ConfirmationIndicator.vue_vue_type_script_setup_true_lang-e065ab89.js";import"./BalDataListRow.vue_vue_type_script_setup_true_lang-bc4f6b21.js";import"./useTokenApprovalActions-885c33f2.js";import"./FeedbackCard.vue_vue_type_script_setup_true_lang-f0ae37aa.js";var wo=6e4;function tt(g,r){Ct(2,arguments);var t=Vt(r);return It(g,t*wo)}const Po={class:"p-4 w-full bg-gray-50 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-900"},$o={key:1},Lo={class:"grid grid-cols-2 gap-2"},xo={class:"pt-4 text-xs text-secondary"},To=E({__name:"PoolActionsCard",props:{pool:{},missingPrices:{type:Boolean}},emits:["risksClicked"],setup(g,{emit:r}){const t=g,m=r,{isMigratablePool:c,hasNonApprovedRateProviders:l}=he(we(t,"pool")),{isWalletReady:y,startConnectWithInjectedProvider:$}=ee(),{networkSlug:n}=useNetwork();$t(t.pool);const{balanceFor:v}=ue(),{isAffectedBy:a}=Ve(p(()=>t.pool.id)),w=p(()=>G(v(t.pool.address)).gt(0));p(()=>{const B=["0x68e3266c9c8bbd44ad9dca5afbfe629022aee9fe000200000000000000000512"];return l.value&&!B.includes(t.pool.id)});const A=p(()=>!1);return(B,x)=>{const L=ye;return o(),S("div",Po,[e(y)?(o(),S("div",$o,[s("div",Lo,[i(L,{tag:A.value?"div":"router-link",to:{name:"add-liquidity",params:{networkSlug:e(n)}},label:B.$t("addLiquidity"),color:"gradient",disabled:A.value,block:"",onClick:x[0]||(x[0]=P=>e(Ge)(e(Qe).ClickAddLiquidity))},null,8,["tag","to","label","disabled"]),e(a)(e(Oe).CspPoolVulnWarning)?(o(),b(L,{key:0,tag:"router-link",to:{name:"recovery-exit",params:{networkSlug:e(n)}},label:B.$t("withdraw.label"),disabled:!w.value,color:"blue",outline:"",block:""},null,8,["to","label","disabled"])):(o(),b(L,{key:1,tag:w.value?"router-link":"div",to:{name:"withdraw",params:{networkSlug:e(n)}},label:B.$t("withdraw.label"),disabled:!w.value,color:"blue",outline:"",block:"",onClick:x[1]||(x[1]=P=>e(Ge)(e(Qe).ClickWithdraw))},null,8,["tag","to","label","disabled"]))]),s("div",xo,[q(f(B.$t("poolTransfer.myPoolBalancesCard.risksDisclaimer"))+" ",1),s("a",{class:"font-medium link",onClick:x[2]||(x[2]=P=>m("risksClicked"))},f(B.$t("poolTransfer.myPoolBalancesCard.poolsRisks")),1),q(". ")])])):(o(),b(L,{key:0,label:B.$t("connectWallet"),color:"gradient",block:"",onClick:e($)},null,8,["label","onClick"]))])}}}),Ao={class:"card-header"},Bo={class:"text-2xl"},So={key:0,class:"py-2 px-4"},Co=E({__name:"MyPoolBalancesCard",props:{pool:{},missingPrices:{type:Boolean}},emits:["risksClicked"],setup(g,{emit:r}){const t=g,m=r,{balanceFor:c}=ue(),{fNum:l}=re(),{isWalletReady:y}=ee(),{isMigratablePool:$}=he(we(t,"pool")),{stakedShares:n}=Le(),{networkSlug:v}=ne(),a=it(),{totalLockedValue:w}=He({enabled:Ie(t.pool.id)}),A=p(()=>G(c(t.pool.address)).plus(n.value).toString()),B=p(()=>Ie(t.pool.id)?w.value:Nt(t.pool,A.value)),x=p(()=>(G(A.value).gt(0)||G(n.value).gt(0))&&$(t.pool));function L(P){var _;a.push({name:"migrate-pool",params:{from:P.id,to:(_=rt.network.pools.Migrations)==null?void 0:_[P.id].toPoolId},query:{returnRoute:"pool",returnParams:JSON.stringify({id:P.id,networkSlug:v})}})}return(P,_)=>{const u=ye,h=me;return o(),b(h,{shadow:"2xl",noPad:"",class:"rounded-xl"},{header:d(()=>[s("div",Ao,[s("h5",null,f(P.$t("poolTransfer.myPoolBalancesCard.title")),1),s("h5",Bo,f(e(y)?e(l)(B.value,e(Z).fiat):"-"),1)])]),footer:d(()=>[i(To,{pool:P.pool,missingPrices:P.missingPrices,onRisksClicked:_[1]||(_[1]=T=>m("risksClicked"))},null,8,["pool","missingPrices"])]),default:d(()=>[x.value?(o(),S("div",So,[i(u,{color:"blue",block:"",onClick:_[0]||(_[0]=Mt(T=>L(t.pool),["prevent"]))},{default:d(()=>[q(f(P.$t("migratePool.migrateLiquidity")),1)]),_:1})])):V("",!0)]),_:1})}}});const Io=te(Co,[["__scopeId","data-v-444bb149"]]);function Bt(g){const{balanceFor:r}=ue(),{stakedShares:t}=Le(),m=p(()=>Ie(g.value.id)),{totalLockedShares:c}=He({enabled:m.value}),{fNum:l}=re(),y=p(()=>{let n=G(r(g.value.address)).plus(t.value);return m.value&&c.value&&(n=n.plus(c.value)),n.div(G(g.value.totalShares)).multipliedBy(100)}),$=p(()=>l(y.value.toString(),{maximumFractionDigits:4,minimumFractionDigits:0})+"%");return{userPoolPercentage:y,userPoolPercentageLabel:$}}const Vo={class:"group-hover:text-purple-500 dark:group-hover:text-yellow-500 transition-colors"},No={key:0,class:"justify-self-end"},Mo={class:"justify-self-end"},Do={class:"justify-self-end"},Ro={class:"justify-self-end"},Fo=E({__name:"TokenBreakdown",props:{token:{},parentLevel:{default:0},showUserShares:{type:Boolean},rootPool:{},tokensData:{}},setup(g){const r=g,{token:t,showUserShares:m,rootPool:c}=ct(r),l=p(()=>r.tokensData[t.value.address]),{explorerLinks:y}=ee(),{isDeepPool:$}=he(c),n=ut(c.value.poolType),{getToken:v}=ue(),a=p(()=>r.parentLevel+1),w=p(()=>{switch(a.value){case 1:return"level-1";case 2:return"level-2";case 3:return"level-3";case 4:return"level-4";default:return"pl-4"}});function A(B){var x;return((x=v(B.address))==null?void 0:x.symbol)||B.symbol||"---"}return(B,x)=>{var h,T;const L=Be,P=oe,_=ve,u=dt("TokenBreakdown",!0);return o(),S(W,null,[s("div",{class:ae(["grid gap-y-4 px-4 w-full items-center border-b dark:border-b-gray-900 last:border-0 transition-all ease-in duration-300",e(n)?"grid-cols-5":"grid-cols-4",w.value])},[i(_,{href:e(y).addressLink(e(t).address),external:"",noStyle:"",class:"group flex items-center"},{default:d(()=>[i(L,{address:e(t).address,class:ae(e($)&&a.value>1?"nested-token":"mr-2 shrink-0 z-10"),size:e($)&&a.value>2?24:e($)&&a.value>1?28:36},null,8,["address","class","size"]),s("span",Vo,f(A(e(t))),1),i(P,{name:"arrow-up-right",size:"sm",class:"ml-1 text-gray-500 group-hover:text-purple-500 dark:group-hover:text-yellow-500 transition-colors"})]),_:1},8,["href"]),e(n)?(o(),S("div",No,f(l.value.tokenWeightLabel),1)):V("",!0),s("div",Mo,f(e(m)?l.value.userBalanceLabel:l.value.balanceLabel),1),s("div",Do,f(e(m)?l.value.userFiatLabel:l.value.fiatLabel),1),s("div",Ro,f(l.value.getTokenPercentageLabel()),1)],2),e($)?(o(!0),S(W,{key:0},ce((T=(h=e(t).token)==null?void 0:h.pool)==null?void 0:T.tokens,I=>(o(),b(u,{key:I.address,token:I,parentLevel:a.value,showUserShares:e(m),rootPool:e(c),tokensData:B.tokensData},null,8,["token","parentLevel","showUserShares","rootPool","tokensData"]))),128)):V("",!0)],64)}}});const Oo=te(Fo,[["__scopeId","data-v-11af33a9"]]);function Re(g){return g===""?!1:!Number.isNaN(Number(g))}function zo(g){const{fNum:r,toFiat:t}=re(),{userPoolPercentage:m}=Bt(g),c=p(()=>Dt(g.value));let l={},y=0;return p(()=>$(g));function $(v){return y=0,l={},v.value.tokens.forEach(a=>{n(a,1)}),l}function n(v,a){var F,z,Y,j,Q,H,le,K;const w=G(v.balance).times(a).toString(),B=((z=(F=v==null?void 0:v.token)==null?void 0:F.pool)==null?void 0:z.tokens)&&c.value,x=R(),L=C();Re(L)&&(y+=Number(L));const P=M(L),_=L===""?"":k(P),u=x===""?"":D(M(x)),h=v!=null&&v.weight?r(v.weight,Z.percent):"";function T(){if(y===0)return"0%";const O=Number(L)/Number(y);return O===0?"":r(O,Z.percent)}if(l[v.address]={balanceLabel:D(R()),fiatLabel:k(L),userFiatLabel:_,userBalanceLabel:u,tokenWeightLabel:h,getTokenPercentageLabel:T},!((Y=v.token)!=null&&Y.pool)||!c.value)return;const N=G((v==null?void 0:v.balance)||"0").div(((Q=(j=v.token)==null?void 0:j.pool)==null?void 0:Q.totalShares)||1).times(a).toNumber();(K=(le=(H=v.token)==null?void 0:H.pool)==null?void 0:le.tokens)==null||K.forEach(O=>n(O,N));function R(){return B?"":w}function D(O){return Re(O)?r(O,Z.token):O}function C(){var se;if(B)return"";let O=t(w,v.address);return O==="0"&&((se=v.token)!=null&&se.latestUSDPrice)&&(O=G(w).times(v.token.latestUSDPrice).toString()),O}function k(O){return O=O.toString(),Re(O)?r(O,Z.fiat):O}function M(O){return Number(O)*Number(m.value)/100}}}const qo=E({__name:"PercentagePill",props:{isActive:{type:Boolean,default:!1}},setup(g){const r=g,t=p(()=>r.isActive?"text-blue-600 dark:text-blue-400 bg-blue-100 dark:bg-blue-500/20":"text-secondary bg-gray-200 dark:bg-gray-800");return(m,c)=>(o(),S("div",{class:ae(["flex p-1 text-sm rounded",[t.value]])},[pt(m.$slots,"default")],2))}}),Eo={class:"flex justify-start items-center mx-4 lg:mx-0 mb-6 border-b dark:border-gray-900"},jo={key:0,class:"justify-self-end"},Ho={class:"justify-self-end"},Uo={class:"justify-self-end"},Wo={class:"justify-self-end"},Yo={class:"grid"},ot="TOTAL_COMPOSITION",Fe="MY_POOL_SHARE",Go=E({__name:"PoolCompositionCard",props:{pool:{}},setup(g){const r=g,{pool:t}=ct(r),m=ut(t.value.poolType),{upToLargeBreakpoint:c}=xe(),{userPoolPercentage:l,userPoolPercentageLabel:y}=Bt(t),{t:$}=pe(),n=p(()=>Rt(t.value)),v=zo(n),a={value:ot,label:$("poolComposition.tabs.totalComposition")},w={value:Fe,label:$("poolComposition.tabs.myPoolShare")},A=X(ot),B=p(()=>l.value.gt(0)),x=p(()=>B.value?[a,w]:[a]),L=p(()=>A.value===Fe);return Ee(async()=>{await mt(),B.value&&(A.value=Fe)}),(P,_)=>{const u=Ue,h=me;return o(),S(W,null,[s("div",Eo,[i(u,{modelValue:A.value,"onUpdate:modelValue":_[0]||(_[0]=T=>A.value=T),tabs:x.value,noPad:"",class:"-mb-px"},{default:d(()=>[B.value?(o(),b(qo,{key:0,isActive:L.value},{default:d(()=>[q(f(e(y)),1)]),_:1},8,["isActive"])):V("",!0)]),_:1},8,["modelValue","tabs"])]),i(h,{class:"overflow-x-auto whitespace-nowrap",square:e(c),noBorder:e(c),noPad:""},{header:d(()=>[s("div",{class:ae(["grid p-4 w-full text-base font-semibold border-b dark:border-gray-900",[e(m)?"grid-cols-5":"grid-cols-4"]])},[s("div",null,f(P.$t("token")),1),e(m)?(o(),S("div",jo,f(P.$t("weight")),1)):V("",!0),s("div",Ho,f(P.$t("balance")),1),s("div",Uo,f(P.$t("value")),1),s("div",Wo,f(P.$t("poolComposition.token%")),1)],2)]),default:d(()=>[s("div",Yo,[(o(!0),S(W,null,ce(n.value.tokens,T=>(o(),S("div",{key:T.address,class:"grid nested-group"},[i(Oo,{token:T,showUserShares:L.value,rootPool:e(t),tokensData:e(v)},null,8,["token","showUserShares","rootPool","tokensData"])]))),128))])]),_:1},8,["square","noBorder"])],64)}}});const Qo=te(Go,[["__scopeId","data-v-70be56ee"]]),Ko={class:"h-10 text-base period-select-input"},Jo={class:"flex flex-1 justify-between items-center h-full"},Zo={class:"period-select-input__selected"},Xo=["onClick"],es={class:"py-2 px-3 text-sm font-medium text-gray-500 whitespace-nowrap bg-gray-50 dark:bg-gray-800 border-b dark:border-gray-900"},ts=["onClick"],os={class:"flex items-center ml-1 font-medium"},ss=E({__name:"PoolChartPeriodSelect",props:{options:{},activeOption:{}},emits:["change-option"],setup(g,{emit:r}){const t=r;return(m,c)=>{const l=oe,y=vo;return o(),b(y,{noPad:""},{activator:d(()=>[s("div",Ko,[s("div",Jo,[s("div",Zo,f(m.activeOption.text),1),i(l,{name:"chevron-down"})])])]),default:d(({close:$})=>[s("div",{class:"flex overflow-hidden flex-col w-44 rounded-lg",onClick:$},[s("div",es,f(m.$t("poolChart.period.title"))+": ",1),(o(!0),S(W,null,ce(m.options,n=>(o(),S("div",{key:n.days,class:"flex justify-between items-center p-3 hover:bg-gray-50 dark:hover:bg-gray-850 cursor-pointer",onClick:v=>t("change-option",n)},[s("div",os,f(n.text),1),m.activeOption.days===n.days?(o(),b(l,{key:0,name:"check",class:"text-blue-500"})):V("",!0)],8,ts))),128))],8,Xo)]),_:1})}}});const as=te(ss,[["__scopeId","data-v-651d577b"]]),ns={},ls={class:"flex flex-col text-sm"},is={class:"flex items-center text-blue-600"};function rs(g,r){const t=oe,m=ve,c=De;return o(),b(c,{class:"py-2 px-2.5 mb-5",type:"tip",size:"md",block:"",title:""},{default:d(()=>[s("div",ls,[s("span",null,f(g.$t("poolChart.fxPoolWarning")),1),i(m,{href:"https://docs.xave.co/product-overview-1/amm#mechanism",external:"",noStyle:""},{default:d(()=>[s("div",is,[s("span",null,f(g.$t("learnMore")),1),i(t,{name:"arrow-up-right",size:"sm"})])]),_:1})])]),_:1})}const cs=te(ns,[["render",rs]]),us={key:1,class:"chart"},ds={class:"flex flex-col xs:flex-row xs:flex-wrap justify-between mb-6 dark:border-gray-900"},ps={class:"flex mb-4"},ms={class:"flex items-center"},vs={class:"flex flex-col items-start xs:items-end text-2xl font-semibold tabular-nums"},st=2,gs=E({__name:"PoolChart",props:{historicalPrices:{default:null},snapshots:{default:null},loading:{type:Boolean,default:!1},poolPremintedBptIndex:{},totalLiquidity:{},tokensList:{},poolType:{}},setup(g){const r=g,{t}=pe(),m=Ft(),{fNum:c}=re(),{isMobile:l}=xe(),{darkMode:y}=Ot(),$=[{value:"volume",label:t("poolChart.tabs.volume")},{value:"tvl",label:t("poolChart.tabs.tvl")},{value:"fees",label:t("poolChart.tabs.fees")}],n=X($[0].value),v=X({num:"",isNegative:!1}),a=X(""),w=X(!1),A=p(()=>Object.values(r.snapshots||[])),B=p(()=>[{text:t("poolChart.period.days",[90]),days:90},{text:t("poolChart.period.days",[180]),days:180},{text:t("poolChart.period.days",[365]),days:365},{text:t("poolChart.period.all"),days:A.value.length}]),x=X(B.value[0]),L=p(()=>A.value.map(C=>Ce(tt(C.timestamp,new Date(C.timestamp).getTimezoneOffset()),"yyyy/MM/dd")));function P(C){const k=[];return r.poolType===ze.StablePhantom?C.forEach((M,F)=>{const z=L.value[F];if(F===0){k.push(Object.freeze([z,Number(r.totalLiquidity||0)]));return}k.push(Object.freeze([z,Number(M.liquidity)]))}):C.forEach((M,F)=>{var H;const z=L.value[F];if(F===0){k.push(Object.freeze([z,Number(r.totalLiquidity||0)]));return}const Y=r.historicalPrices&&r.historicalPrices[M.timestamp];if(!Y||Y.length<(((H=r.tokensList)==null?void 0:H.length)||0)){if(!M.liquidity)return;k.push(Object.freeze([z,Number(M.liquidity)]));return}let j=[...M.amounts];M.amounts.length>Y.length&&(j=j.filter((le,K)=>K!==r.poolPremintedBptIndex));const Q=j.reduce((le,K,O)=>(le+=Number(K)*Y[O],le),0);k.push(Object.freeze([z,Q]))}),{color:[m.theme.colors.blue[600]],hoverBorderColor:m.theme.colors.pink[500],hoverColor:y.value?m.theme.colors.gray[900]:m.theme.colors.white,areaStyle:{color:new go(0,0,0,1,[{offset:0,color:"rgba(14, 165, 233, 0.08)"},{offset:1,color:"rgba(68, 9, 236, 0)"}])},chartType:"line",data:[{name:"TVL",values:k}],defaultHeaderStateValue:c(k[0][1],{style:"currency"})}}function _(C,k,M){const F=C.map((Y,j)=>{const Q=parseFloat(Y.swapFees);let H;return j===A.value.length-1?H=0:j===M?H=parseFloat(A.value[j+1].swapFees):H=parseFloat(C[j+1].swapFees),Object.freeze([L.value[j],Q-H])});C.length<30&&F.push(...D());const z=Number(C[0].swapFees)-(k?0:Number(C[M].swapFees));return{color:[m.theme.colors.yellow[400]],chartType:"bar",hoverColor:m.theme.colors.pink[500],data:[{name:"Fees",values:F}],defaultHeaderStateValue:c(z,{style:"currency"})}}function u(C,k,M){const F=C.map((Y,j)=>{const Q=parseFloat(Y.swapVolume);let H;return j===A.value.length-1?H=0:j===M?H=parseFloat(A.value[j+1].swapVolume):H=parseFloat(C[j+1].swapVolume),Object.freeze([L.value[j],Q-H])});C.length<30&&F.push(...D());const z=Number(C[0].swapVolume)-(k?0:Number(C[M].swapVolume));return{color:[m.theme.colors.green[400]],chartType:"bar",hoverColor:m.theme.colors.pink[500],data:[{name:"Volume",values:F}],defaultHeaderStateValue:c(z,{style:"currency"})}}const h=p(()=>{const C=x.value.days===A.value.length?A.value:A.value.slice(0,x.value.days-1),k=C.length===A.value.length,M=C.length-1;return n.value==="tvl"?P(C):n.value==="fees"?_(C,k,M):u(C,k,M)}),T=p(()=>{const C=B.value.find(M=>M.days===x.value.days);let k=`${C==null?void 0:C.text} ${n.value}`;return n.value==="tvl"&&(k=t("poolChart.defaultTitle.tvl")),{title:k,value:h.value.defaultHeaderStateValue}}),I=p(()=>{const{poolType:C}=r;return C&&vt(C)&&n.value==="fees"});function N(C){x.value=C}function R(C){v.value.num=c(C.chartValue,{style:"currency",maximumFractionDigits:0,fixedFormat:!0}),v.value.isNegative=C.chartValue<0,a.value=Ce(new Date(C.chartDate),mo)}function D(){const C=A.value[A.value.length-1].timestamp/1e3,k=30-A.value.length,M=[];for(let F=1;F<=k;F++){const z=C-F*zt;M.push(z*1e3)}return M.map(F=>Object.freeze([Ce(tt(F,new Date(F).getTimezoneOffset()),"yyyy/MM/dd"),0]))}return(C,k)=>{const M=fe,F=Ue,z=oe,Y=po,j=uo;return C.loading?(o(),b(M,{key:0,class:"chart-loading-block"})):A.value.length>=st?(o(),S("div",us,[s("div",ds,[s("div",ps,[i(F,{modelValue:n.value,"onUpdate:modelValue":k[0]||(k[0]=Q=>n.value=Q),tabs:$,noPad:"",class:"mr-6 -mb-px"},null,8,["modelValue"]),s("div",ms,[i(as,{options:B.value,activeOption:x.value,onChangeOption:N},null,8,["options","activeOption"])])]),s("div",vs,[s("p",{class:ae(["tracking-tighter",{"text-red-500":v.value.isNegative&&w.value}])},f(w.value?v.value.num:T.value.value),3),s("div",{class:ae(["text-sm font-medium text-secondary",{"text-pink-500":w.value}])},[s("p",null,f(w.value?a.value:T.value.title),1)],2)])]),h.value.data[0].values.length<=st?(o(),b(Y,{key:0,class:"h-96"},{default:d(()=>[i(z,{name:"bar-chart"}),q(" "+f(C.$t("noPriceInfo")),1)]),_:1})):(o(),b(j,{key:1,height:"96",data:h.value.data,axisLabelFormatter:{yAxis:{style:"currency",maximumFractionDigits:0,fixedFormat:!0,abbreviate:!0}},areaStyle:h.value.areaStyle,color:h.value.color,hoverColor:h.value.hoverColor,hoverBorderColor:h.value.hoverBorderColor,xAxisMinInterval:3600*1e3*24*30,showLegend:!1,needChartValue:"",chartType:h.value.chartType,showTooltipLayer:!1,hideYAxis:e(l),onSetCurrentChartValue:R,onMouseLeaveEvent:k[1]||(k[1]=Q=>w.value=!1),onMouseEnterEvent:k[2]||(k[2]=Q=>w.value=!0)},null,8,["data","areaStyle","color","hoverColor","hoverBorderColor","chartType","hideYAxis"])),I.value?(o(),b(cs,{key:2})):V("",!0)])):(o(),b(Y,{key:2,class:"h-96",align:"center"},{default:d(()=>[i(z,{name:"bar-chart"}),q(" "+f(C.$t("insufficientData")),1)]),_:1}))}}});const _s=te(gs,[["__scopeId","data-v-3e4dc48c"]]),fs={class:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-4"},ys={class:"flex mb-2 text-sm font-medium text-secondary"},ks=E({__name:"PoolStatCards",props:{pool:{default:null},poolApr:{default:null},loading:{type:Boolean,default:!1},loadingApr:{type:Boolean}},setup(g){const r=g,{fNum:t}=re(),{t:m}=pe(),{l2VeBalBalances:c}=gt(),{networkId:l}=ne(),{isWalletReady:y}=ee(),$=p(()=>{var w;const a=r.poolApr;return a?qt(a,(w=r.pool)==null?void 0:w.boost,y.value):"0"}),n=p(()=>{var w;const a=Number((w=c.value)==null?void 0:w[l.value]);return a>0?"Remember to resync if you have acquired more veBAL since your last sync, to get a higher boosted staking rate. Resync on the veBAL page on Ethereum Mainnet.":a===0?"If you have veBAL, sync your balance on the veBAL page on Ethereum Mainnet to get higher boosted staking rates across L2 networks.":""}),v=p(()=>{var A,B,x,L,P;const a=Number(((A=r.pool)==null?void 0:A.volumeSnapshot)||"0"),w=Number(((B=r.pool)==null?void 0:B.feesSnapshot)||"0");return[{id:"poolValue",label:m("poolValue"),value:t(((x=r.pool)==null?void 0:x.totalLiquidity)||"0",Z.fiat),loading:r.loading},{id:"volumeTime",label:m("volumeTime",["24h"]),value:t(a>Ke?"-":a,Z.fiat),loading:r.loading},{id:"feesTime",label:m("feesTime",["24h"]),value:t(w>Ke?"-":w,Z.fiat),loading:r.loading},{id:"apr",label:"APR",value:Number(((L=r.poolApr)==null?void 0:L.swapFees)||"0")>Et||Je(((P=r.pool)==null?void 0:P.id)||"")?"-":$.value,loading:r.loadingApr,tooltip:n.value}]});return(a,w)=>{const A=fe,B=Se,x=oe,L=me;return o(),S("div",fs,[(o(!0),S(W,null,ce(v.value,P=>(o(),S(W,{key:P.id},[P.loading||!a.pool?(o(),b(A,{key:0,class:"h-24"})):(o(),b(L,{key:1},{default:d(()=>[s("div",ys,[s("span",null,f(P.label),1),P.id==="apr"&&a.poolApr&&!e(Je)(a.pool.id)?(o(),S(W,{key:0},[e(Ze)(a.pool.poolType)?(o(),b(B,{key:0,width:"36",text:a.$t("lbpAprTooltip"),iconSize:"sm",iconClass:"ml-1"},null,8,["text"])):(o(),b(Lt,{key:1,pool:a.pool,poolApr:a.poolApr},null,8,["pool","poolApr"]))],64)):V("",!0)]),s("div",{class:ae(["flex items-center text-xl font-medium",{"text-gray-300 dark:text-gray-600 line-through":P.id==="apr"&&e(Ze)(a.pool.poolType)}])},[s("span",{class:ae({"mr-2":P.tooltip})},f(P.value),3),P.tooltip?(o(),b(B,{key:0,text:P.tooltip},{activator:d(()=>[i(x,{name:"info",size:"sm",class:"text-gray-400"})]),_:2},1032,["text"])):V("",!0)],2)]),_:2},1024))],64))),128))])}}});function St(g,r={},t={}){const{networkId:m}=ne(),c=de(Pe.Pools.Swaps(m,g,r)),l=async({pageParam:$=0})=>{const n=$===0?U.Pagination.PerPoolInitial:U.Pagination.PerPool,v=await Ae.poolSwaps.get({first:n,skip:$,where:Object.assign({poolId:g},r)});return{poolSwaps:v,skip:v.length>=n?$+n:void 0}},y=de({getNextPageParam:$=>$.skip,...t});return Ne(c,l,y)}function hs(g,r={}){const{account:t,isWalletReady:m}=ee(),{networkId:c}=ne(),l=p(()=>m.value&&t.value!=null),y=de(Pe.Pools.UserSwaps(c,g,t)),$=async({pageParam:v=0})=>{const a=await Ae.poolSwaps.get({first:U.Pagination.PerPage,skip:v,where:{userAddress:t.value.toLowerCase(),poolId:g}});return{poolSwaps:a,skip:a.length>=U.Pagination.PerPage?v+U.Pagination.PerPage:void 0}},n=de({enabled:l,getNextPageParam:v=>v.skip,...r});return Ne(y,$,n)}var J=(g=>(g.ALL_ACTIVITY="allActivity",g.USER_ACTIVITY="userActivity",g.SWAPS="swaps",g))(J||{});const bs={class:"py-2 px-6"},ws={class:"flex items-center"},Ps={class:"flex mr-3 center"},$s={class:"flex flex-wrap items-center py-4 px-6 -mt-1"},Ls={class:"token-item"},xs={class:"font-numeric"},Ts={class:"token-item"},As={class:"font-numeric"},Bs={key:0,class:"flex items-center p-1 px-2 m-1 bg-gray-50 dark:bg-gray-700 rounded-lg"},Ss={class:"font-numeric"},Cs={class:"flex justify-end py-4 px-6 font-numeric"},Is={class:"py-4 px-6"},Vs={class:"flex justify-end items-center text-right whitespace-nowrap wrap"},Ns=E({__name:"Table",props:{poolSwaps:{},isLoading:{type:Boolean,default:!1},isLoadingMore:{type:Boolean,default:!1},loadMore:{},isPaginated:{type:Boolean,default:!1},noResultsLabel:{default:""},pool:{}},emits:["loadMore"],setup(g,{emit:r}){const t=g,m=r,{fNum:c}=re(),{t:l}=pe(),{priceFor:y}=ue(),{upToLargeBreakpoint:$}=xe(),{explorerLinks:n}=ee(),v=p(()=>[{name:l("action"),id:"action",accessor:"tx",Cell:"actionCell",width:150,sortable:!1},{name:l("details"),id:"details",accessor:"",Cell:"detailsCell",width:325,sortable:!1},{name:l("value"),id:"value",accessor:"value",Cell:"valueCell",align:"right",className:"align-center w-40",sortKey:L=>L.value,width:125},{name:l("time"),id:"timeAgo",accessor:"timestamp",Cell:"timeCell",align:"right",sortKey:L=>L.timestamp,width:200}]),a=p(()=>t.isLoading?[]:Object.entries(Me.groupBy(t.poolSwaps,"tx")).map(([P,_])=>{const{tokenIn:u,tokenOut:h,timestamp:T}=_[0];let I,N;h===t.pool.address?(I="invest",N=l("pool")):u===t.pool.address?(I="withdraw",N=l("withdraw.label")):(I="swap",N=l("swap"));const R=A(_,I),D=w(R,I);return{label:N,type:I,value:D,formattedValue:D>0?c(D,{style:"currency",abbreviate:!0}):"-",timestamp:T,formattedDate:l("timeAgo",[je(T)]),tx:P,tokenAmounts:R}}));function w(L,P){if(P==="swap"){const u=B(L[1].address),h=x(L[1].address,L[1].amount);return G(y(u)).times(h).toNumber()}let _=G(0);for(const{address:u,amount:h}of L){const T=B(u),I=x(u,h),N=y(T),R=Math.abs(parseFloat(I.toString()));if(R>0&&N===0)return 0;_=_.plus(G(R).times(N))}return _.toNumber()}function A(L,P){const _=P==="invest";if(P==="swap"){const u=L[0],{tokenIn:h,tokenOut:T,tokenAmountIn:I,tokenAmountOut:N}=u;return[{address:h,amount:I},{address:T,amount:N}]}return L.map(u=>({address:_?u.tokenIn:u.tokenOut,amount:_?u.tokenAmountIn:u.tokenAmountOut}))}function B(L){var _,u;const P=(u=(_=t.pool)==null?void 0:_.onchain)==null?void 0:u.linearPools;return P!=null&&P[L]!=null?P[L].mainToken.address:L}function x(L,P){var u,h;const _=(h=(u=t.pool)==null?void 0:u.onchain)==null?void 0:h.linearPools;return _!=null&&_[L]!=null?G(P).times(_[L].priceRate):G(P)}return(L,P)=>{const _=oe,u=Be,h=ve,T=We,I=me;return o(),b(I,{class:"overflow-x-auto",square:e($),noBorder:e($),noPad:""},{default:d(()=>[i(T,{columns:v.value,data:a.value,isLoading:L.isLoading,isLoadingMore:L.isLoadingMore,isPaginated:L.isPaginated,skeletonClass:"h-64",sticky:"both",noResultsLabel:L.noResultsLabel,initialState:{sortColumn:"timeAgo",sortDirection:"desc"},onLoadMore:P[0]||(P[0]=N=>m("loadMore"))},{actionCell:d(N=>[s("div",bs,[s("div",ws,[s("div",Ps,[N.type==="invest"?(o(),b(_,{key:0,name:"plus",size:"sm",class:"text-green-500 dark:text-green-400"})):N.type==="withdraw"?(o(),b(_,{key:1,name:"minus",size:"sm",class:"text-red-500"})):(o(),b(_,{key:2,name:"repeat",size:"sm",class:"text-green-500 dark:text-green-400"}))]),s("div",null,f(N.label),1)])])]),detailsCell:d(N=>[s("div",$s,[N.type==="swap"?(o(),S(W,{key:0},[s("div",Ls,[i(u,{address:N.tokenAmounts[0].address,class:"mr-2 shrink-0"},null,8,["address"]),s("span",xs,f(e(c)(N.tokenAmounts[0].amount,e(Z).token)),1)]),i(_,{name:"arrow-right",class:"mx-1"}),s("div",Ts,[i(u,{address:N.tokenAmounts[1].address,class:"mr-2 shrink-0"},null,8,["address"]),s("span",As,f(e(c)(N.tokenAmounts[1].amount,e(Z).token)),1)])],64)):(o(!0),S(W,{key:1},ce(N.tokenAmounts,(R,D)=>(o(),S(W,{key:D},[R.amount!=="0"?(o(),S("div",Bs,[i(u,{address:R.address,class:"mr-2 shrink-0"},null,8,["address"]),s("span",Ss,f(e(c)(R.amount,e(Z).token)),1)])):V("",!0)],64))),128))])]),valueCell:d(N=>[s("div",Cs,f(N.formattedValue),1)]),timeCell:d(N=>[s("div",Is,[s("div",Vs,[q(f(N.formattedDate)+" ",1),i(h,{href:e(n).txLink(N.tx),external:"",class:"flex items-center ml-2"},{default:d(()=>[i(_,{name:"arrow-up-right",size:"sm",class:"hover:text-blue-600 dark:hover:text-blue-400 transition-colors text-secondary"})]),_:2},1032,["href"])])])]),_:1},8,["columns","data","isLoading","isLoadingMore","isPaginated","noResultsLabel"])]),_:1},8,["square","noBorder"])}}});const Ms=te(Ns,[["__scopeId","data-v-9c9eccb0"]]),at=E({__name:"Activities",props:{pool:{},loading:{type:Boolean,default:!1},poolActivityType:{default:J.ALL_ACTIVITY}},setup(g){const r=g,t=r.poolActivityType===J.ALL_ACTIVITY?St(r.pool.id):hs(r.pool.id),m=p(()=>t.data.value?Me.flatten(t.data.value.pages.map(n=>n.poolSwaps)):[]),c=p(()=>t.isLoading.value),l=p(()=>{var n;return(n=t.hasNextPage)==null?void 0:n.value}),y=p(()=>{var n;return(n=t.isFetchingNextPage)==null?void 0:n.value});function $(){t.fetchNextPage()}return(n,v)=>(o(),b(Ms,{poolSwaps:m.value,pool:n.pool,isLoading:n.loading||c.value,isLoadingMore:y.value,isPaginated:l.value,noResultsLabel:n.poolActivityType===e(J).ALL_ACTIVITY?n.$t("poolTransactions.noResults.allTransactions"):n.$t("poolTransactions.noResults.myTransactions"),onLoadMore:$},null,8,["poolSwaps","pool","isLoading","isLoadingMore","isPaginated","noResultsLabel"]))}});function Ds(g,r={}){const{networkId:t}=ne(),m=de(Pe.Pools.Activities(t,g)),c=async({pageParam:y=0})=>{const $=y===0?U.Pagination.PerPoolInitial:U.Pagination.PerPool,n=await Ae.poolActivities.get({first:$,skip:y,where:{pool:g}});return{poolActivities:n,skip:n.length>=$?y+$:void 0}},l=de({getNextPageParam:y=>y.skip,...r});return Ne(m,c,l)}function Rs(g,r={}){const{account:t,isWalletReady:m}=ee(),{networkId:c}=ne(),l=p(()=>m.value&&t.value!=null),y=de(Pe.Pools.UserActivities(c,g,t)),$=async({pageParam:v=0})=>{const a=v===0?U.Pagination.PerPoolInitial:U.Pagination.PerPool,w=await Ae.poolActivities.get({first:a,skip:v,where:{pool:g,sender:t.value.toLowerCase()}});return{poolActivities:w,skip:w.length>=a?v+a:void 0}},n=de({enabled:l,getNextPageParam:v=>v.skip,...r});return Ne(y,$,n)}const Fs={class:"py-2 px-6"},Os={class:"flex items-center"},zs={class:"flex mr-3 center"},qs={class:"text-left"},Es={class:"flex flex-wrap py-4 px-6 -mt-1"},js={key:0,class:"flex items-center p-1 px-2 m-1 bg-gray-50 dark:bg-gray-700 rounded-lg"},Hs={class:"font-numeric"},Us={class:"flex justify-end py-4 px-6 font-numeric"},Ws={class:"py-4 px-6"},Ys={class:"flex justify-end items-center text-right whitespace-nowrap wrap"},Gs=E({__name:"Table",props:{tokens:{},pool:{},poolActivities:{},isLoading:{type:Boolean,default:!1},isLoadingMore:{type:Boolean,default:!1},loadMore:{},isPaginated:{type:Boolean,default:!1},noResultsLabel:{default:""}},emits:["loadMore"],setup(g,{emit:r}){const t=g,m=r,{fNum:c}=re(),{t:l}=pe(),{explorerLinks:y}=ee(),{upToLargeBreakpoint:$}=xe(),{getToken:n,priceFor:v}=ue(),a=p(()=>[{name:l("action"),id:"action",accessor:"tx",Cell:"actionCell",width:150,sortable:!1},{name:l("value"),id:"value",accessor:"value",Cell:"valueCell",align:"right",className:"align-center w-40",sortKey:x=>x.value,width:125},{name:l("tokens"),id:"details",accessor:"",Cell:"detailsCell",width:325,sortable:!1},{name:l("time"),id:"timeAgo",accessor:"timestamp",Cell:"timeCell",align:"right",sortKey:x=>x.timestamp,width:200}]),w=p(()=>t.isLoading?[]:t.poolActivities.map(({type:x,timestamp:L,tx:P,amounts:_})=>{const u=_t(t.pool),h=_.filter((N,R)=>R!==u),T=x==="Join",I=A(h);return{label:l(T?"addTokens":"withdraw.label"),value:I,formattedValue:I>0?c(I,{style:"currency",abbreviate:!0}):"-",timestamp:L,formattedDate:l("timeAgo",[je(L)]),tx:P,type:x,tokenAmounts:B(h)}}));function A(x){let L=G(0);for(let P=0;P<x.length;P++){const _=x[P],u=qe(t.tokens[P]),h=n(u),T=v(h==null?void 0:h.address),I=Math.abs(parseFloat(_));if(I>0&&T===0)return 0;L=L.plus(G(I).times(T))}return L.toNumber()}function B(x){return x.map((L,P)=>{const _=qe(t.tokens[P]),u=n(_),h=u?u.symbol:_,T=parseFloat(L);return{address:_,symbol:h,amount:c(T,Z.token)}})}return(x,L)=>{const P=oe,_=Be,u=ve,h=We,T=me;return o(),b(T,{class:"overflow-x-auto",square:e($),noBorder:e($),noPad:""},{default:d(()=>[i(h,{columns:a.value,data:w.value,isLoading:x.isLoading,isLoadingMore:x.isLoadingMore,isPaginated:x.isPaginated,skeletonClass:"h-64",sticky:"both",noResultsLabel:x.noResultsLabel,initialState:{sortColumn:"timeAgo",sortDirection:"desc"},onLoadMore:L[0]||(L[0]=I=>m("loadMore"))},{actionCell:d(I=>[s("div",Fs,[s("div",Os,[s("div",zs,[I.type==="Join"?(o(),b(P,{key:0,name:"plus",size:"sm",class:"text-green-500 dark:text-green-400"})):(o(),b(P,{key:1,name:"minus",size:"sm",class:"text-red-500"}))]),s("div",qs,f(I.label),1)])])]),detailsCell:d(I=>[s("div",Es,[(o(!0),S(W,null,ce(I.tokenAmounts,(N,R)=>(o(),S(W,{key:R},[N.amount!=="0"?(o(),S("div",js,[i(_,{address:N.address,class:"mr-2 shrink-0"},null,8,["address"]),s("span",Hs,f(N.amount),1)])):V("",!0)],64))),128))])]),valueCell:d(I=>[s("div",Us,f(I.formattedValue),1)]),timeCell:d(I=>[s("div",Ws,[s("div",Ys,[q(f(I.formattedDate)+" ",1),i(u,{href:e(y).txLink(I.tx),external:"",class:"flex items-center ml-2"},{default:d(()=>[i(P,{name:"arrow-up-right",size:"sm",class:"text-gray-500 hover:text-blue-500 transition-colors"})]),_:2},1032,["href"])])])]),_:1},8,["columns","data","isLoading","isLoadingMore","isPaginated","noResultsLabel"])]),_:1},8,["square","noBorder"])}}}),nt=E({__name:"Activities",props:{pool:{},loading:{type:Boolean,default:!1},poolActivityType:{default:J.ALL_ACTIVITY}},setup(g){const r=g,t=r.poolActivityType===J.ALL_ACTIVITY?Ds(r.pool.id):Rs(r.pool.id),m=p(()=>t.data.value?Me.flatten(t.data.value.pages.map(n=>n.poolActivities)):[]),c=p(()=>t.isLoading.value),l=p(()=>{var n;return(n=t.hasNextPage)==null?void 0:n.value}),y=p(()=>{var n;return(n=t.isFetchingNextPage)==null?void 0:n.value});function $(){t.fetchNextPage()}return(n,v)=>(o(),b(Gs,{pool:n.pool,tokens:e(ft)(n.pool),poolActivities:m.value,isLoading:n.loading||c.value,isLoadingMore:y.value,isPaginated:l.value,noResultsLabel:n.poolActivityType===e(J).ALL_ACTIVITY?n.$t("poolTransactions.noResults.allInvestments"):n.$t("poolTransactions.noResults.myInvestments"),onLoadMore:$},null,8,["pool","tokens","poolActivities","isLoading","isLoadingMore","isPaginated","noResultsLabel"]))}}),Qs={class:"mb-5"},Ks=["textContent"],Js={class:"flex justify-between items-end mx-4 lg:mx-0 mb-6 border-b dark:border-gray-900"},Zs={key:1,class:"mb-20"},Xs=E({__name:"InvestmentTransactions",props:{pool:{},loading:{type:Boolean,default:!1}},setup(g){const r=g,{isWalletReady:t}=ee(),m=p(()=>c.value||l.value?[{value:J.ALL_ACTIVITY,label:y("poolTransactions.tabs.allTransactions")},...t.value?[{value:J.USER_ACTIVITY,label:y("poolTransactions.tabs.myTransactions")}]:[]]:[{value:J.ALL_ACTIVITY,label:y("poolTransactions.tabs.allInvestments")},...t.value?[{value:J.USER_ACTIVITY,label:y("poolTransactions.tabs.myInvestments")}]:[]]),{isDeepPool:c,isStablePhantomPool:l}=he(we(r,"pool")),{t:y}=pe(),$=X(m.value[0].value),n=p(()=>c.value||l.value?y("poolActivity"):y("liquidityProvision"));return(v,a)=>{const w=Ue;return o(),S("div",Qs,[s("div",null,[s("h3",{class:"px-4 lg:px-0 mb-3",textContent:f(n.value)},null,8,Ks),s("div",Js,[i(w,{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=A=>$.value=A),tabs:m.value,noPad:"",class:"-mb-px"},null,8,["modelValue","tabs"])])]),e(l)||e(c)?(o(),S(W,{key:0},[$.value===e(J).ALL_ACTIVITY?(o(),b(at,{key:0,poolActivityType:e(J).ALL_ACTIVITY,pool:v.pool,loading:v.loading},null,8,["poolActivityType","pool","loading"])):$.value===e(J).USER_ACTIVITY?(o(),b(at,{key:1,poolActivityType:e(J).USER_ACTIVITY,pool:v.pool,loading:v.loading},null,8,["poolActivityType","pool","loading"])):V("",!0)],64)):(o(),S("div",Zs,[$.value===e(J).ALL_ACTIVITY?(o(),b(nt,{key:0,poolActivityType:e(J).ALL_ACTIVITY,pool:v.pool,loading:v.loading},null,8,["poolActivityType","pool","loading"])):$.value===e(J).USER_ACTIVITY?(o(),b(nt,{key:1,poolActivityType:e(J).USER_ACTIVITY,pool:v.pool,loading:v.loading},null,8,["poolActivityType","pool","loading"])):V("",!0)]))])}}}),ea={class:"py-2 px-6"},ta={class:"flex items-center"},oa={class:"flex justify-end py-4 px-6 font-numeric"},sa={class:"flex flex-wrap items-center py-4 px-6 -mt-1"},aa={class:"token-item"},na={class:"font-numeric"},la={class:"token-item"},ia={class:"font-numeric"},ra={class:"py-4 px-6"},ca={class:"flex justify-end items-center text-right whitespace-nowrap wrap"},ua=E({__name:"Table",props:{poolSwaps:{},isLoading:{type:Boolean,default:!1},isLoadingMore:{type:Boolean,default:!1},loadMore:{},isPaginated:{type:Boolean,default:!1},noResultsLabel:{default:""}},emits:["loadMore"],setup(g,{emit:r}){const t=g,m=r,{fNum:c}=re(),{t:l}=pe(),{priceFor:y}=ue(),{upToLargeBreakpoint:$}=xe(),{explorerLinks:n}=ee(),v=p(()=>[{name:l("swapper"),id:"action",accessor:"tx",Cell:"actionCell",width:190,sortable:!1},{name:l("value"),id:"value",accessor:"value",Cell:"valueCell",align:"right",className:"align-center w-40",sortKey:w=>w.value,width:125},{name:l("swapDetails"),id:"details",accessor:"",Cell:"detailsCell",width:310,sortable:!1},{name:l("time"),id:"timeAgo",accessor:"timestamp",Cell:"timeCell",align:"right",sortKey:w=>w.timestamp,width:190}]),a=p(()=>t.isLoading?[]:t.poolSwaps.map(({tokenIn:w,tokenOut:A,tokenAmountIn:B,tokenAmountOut:x,timestamp:L,tx:P,userAddress:_,ensName:u,ensAvatar:h})=>{const T=G(y(A)).times(x).toNumber();return{value:T,formattedValue:T>0?c(T,{style:"currency",abbreviate:!0}):"-",tokenIn:w,tokenOut:A,tokenAmountIn:B,tokenAmountOut:x,timestamp:L,userAddress:_.id,ensName:u,ensAvatar:h,formattedDate:l("timeAgo",[je(L)]),tx:P}}));return(w,A)=>{const B=Be,x=oe,L=ve,P=We,_=me;return o(),b(_,{class:"overflow-x-auto",square:e($),noBorder:e($),noPad:""},{default:d(()=>[i(P,{columns:v.value,data:a.value,isLoading:w.isLoading,isLoadingMore:w.isLoadingMore,isPaginated:w.isPaginated,skeletonClass:"h-64",sticky:"both",noResultsLabel:w.noResultsLabel,initialState:{sortColumn:"timeAgo",sortDirection:"desc"},onLoadMore:A[0]||(A[0]=u=>m("loadMore"))},{actionCell:d(u=>[s("div",ea,[s("div",ta,[i(B,{class:"mr-2 shrink-0",address:u.userAddress,iconURI:u.ensAvatar,size:30},null,8,["address","iconURI"]),s("span",{class:ae([u.ensName&&"truncate"])},f(u.ensName||e(Te)(u.userAddress)),3)])])]),valueCell:d(u=>[s("div",oa,f(u.formattedValue),1)]),detailsCell:d(u=>[s("div",sa,[s("div",aa,[i(B,{address:u.tokenIn,class:"mr-2 shrink-0"},null,8,["address"]),s("span",na,f(e(c)(u.tokenAmountIn,e(Z).token)),1)]),i(x,{name:"arrow-right",class:"mx-1"}),s("div",la,[i(B,{address:u.tokenOut,class:"mr-2 shrink-0"},null,8,["address"]),s("span",ia,f(e(c)(u.tokenAmountOut,e(Z).token)),1)])])]),timeCell:d(u=>[s("div",ra,[s("div",ca,[q(f(u.formattedDate)+" ",1),i(L,{href:e(n).txLink(u.tx),external:"",class:"flex items-center ml-2"},{default:d(()=>[i(x,{name:"arrow-up-right",size:"sm",class:"text-gray-500 hover:text-blue-500 transition-colors"})]),_:2},1032,["href"])])])]),_:1},8,["columns","data","isLoading","isLoadingMore","isPaginated","noResultsLabel"])]),_:1},8,["square","noBorder"])}}});const da=te(ua,[["__scopeId","data-v-d80ad4c2"]]),pa={class:"mb-20"},ma=["textContent"],va=E({__name:"SwapTransactions",props:{pool:{},loading:{type:Boolean,default:!1}},setup(g){const t=St(g.pool.id),m=p(()=>t.data.value?Me.flatten(t.data.value.pages.map(n=>n.poolSwaps)):[]),c=p(()=>t.isLoading.value),l=p(()=>{var n;return(n=t.hasNextPage)==null?void 0:n.value}),y=p(()=>{var n;return(n=t.isFetchingNextPage)==null?void 0:n.value});function $(){t.fetchNextPage()}return(n,v)=>(o(),S("div",pa,[s("h4",{class:"px-4 lg:px-0 mb-5",textContent:f(n.$t("poolTransactions.tabs.swaps"))},null,8,ma),i(da,{poolSwaps:m.value,isLoading:n.loading||c.value,isLoadingMore:y.value,isPaginated:l.value,noResultsLabel:n.$t("poolTransactions.noResults.swaps"),onLoadMore:$},null,8,["poolSwaps","isLoading","isLoadingMore","isPaginated","noResultsLabel"])]))}}),ga=E({__name:"PoolTransactionsCard",props:{pool:{},loading:{type:Boolean,default:!1}},setup(g){const r=g,{isDeepPool:t,isStablePhantomPool:m}=he(we(r,"pool"));return(c,l)=>(o(),S(W,null,[i(Xs,{pool:c.pool,loading:c.loading},null,8,["pool","loading"]),!e(m)&&!e(t)?(o(),b(va,{key:0,pool:c.pool,loading:c.loading},null,8,["pool","loading"])):V("",!0)],64))}}),_a={key:0,class:"table-row"},fa={class:"table-row-title"},ya={class:"table-row-value"},ka={key:0},ha={key:2,class:"flex flex-col"},ba={key:0},wa=E({__name:"BalDetailsTable",props:{tableData:{}},setup(g){const{upToLargeBreakpoint:r}=xe();return(t,m)=>{const c=Se,l=oe,y=ve,$=me;return o(),b($,{class:"overflow-x-auto",square:e(r),noPad:""},{default:d(()=>[(o(!0),S(W,null,ce(t.tableData,(n,v)=>(o(),S(W,{key:v},[n?(o(),S("div",_a,[s("div",fa,f(n.title),1),s("div",ya,[n.value?(o(),S("span",ka,f(n.value),1)):V("",!0),n.tooltip?(o(),b(c,{key:1,text:n.tooltip,iconSize:"sm",class:"mt-1 ml-2"},null,8,["text"])):V("",!0),n.linksList?(o(),S("div",ha,[(o(!0),S(W,null,ce(n.linksList,a=>(o(),S("div",{key:a.title},[a.tokenSymbol?(o(),S("span",ba,f(a.tokenSymbol)+": ",1)):V("",!0),i(y,{href:a.link,external:"",noStyle:"",class:"mr-1"},{default:d(()=>[q(f(a.title)+" ",1),i(l,{name:"arrow-up-right",size:"sm",class:"mt-2 text-gray-500 hover:text-blue-500 transition-colors"})]),_:2},1032,["href"]),a.warningText?(o(),b(c,{key:1,text:a.warningText,iconSize:"md",iconName:"alert-triangle",iconClass:"text-orange-500",class:"relative top-1"},null,8,["text"])):V("",!0)]))),128))])):V("",!0),n.link?(o(),b(y,{key:3,href:n.link,external:"",noStyle:""},{default:d(()=>[i(l,{name:"arrow-up-right",size:"sm",class:"mt-2 ml-2 text-gray-500 hover:text-blue-500 transition-colors"})]),_:2},1032,["href"])):V("",!0)])])):V("",!0)],64))),128))]),_:1},8,["square"])}}});const Pa=te(wa,[["__scopeId","data-v-ce0484c0"]]),$a={class:"mb-5"},La=["textContent"],xa=["textContent"],Ta={class:"px-4 lg:px-0"},Aa=E({__name:"PoolContractDetails",props:{pool:{}},setup(g){const r=g,{t}=pe(),{explorerLinks:m}=ee(),{fNum:c}=re();function l(w){return w===U.ZeroAddress?t("poolAttrs.feesFixed"):w===U.DelegateOwner?t("poolAttrs.feesEditableGovernance"):t("poolAttrs.feesEditableOwner")}const{preferentialGaugeAddress:y}=Le(),$=p(()=>{var R;const{poolType:w,address:A,symbol:B,owner:x,createTime:L,swapFee:P,name:_,id:u,onchain:h,priceRateProviders:T,tokens:I}=r.pool,N=T==null?void 0:T.filter(D=>D.address!==U.ZeroAddress);return[{title:t("attribute"),value:t("details")},{title:t("poolName"),value:((R=yt(u))==null?void 0:R.name)||_},{title:t("poolSymbol"),value:B||""},{title:t("poolType"),value:w},h!=null&&h.amp&&Number(h==null?void 0:h.amp)?{title:t("ampFactor.title"),value:h.amp}:null,{title:t("swapFees"),value:`${c(P,{style:"percent",maximumFractionDigits:4})} (${l(x||"")})`},{title:t("poolManager"),value:w===ze.Managed?t("yes"):t("none")},x?{title:t("poolOwner"),value:n.value.title,link:n.value.link,tooltip:v.value}:null,N&&N.length>0?{title:"Rate providers",linksList:N.map(D=>{var C;return{title:Te(D.address),link:m.addressLink(D.address),tokenSymbol:(C=I.find(k=>k.address===D.token.address))==null?void 0:C.symbol,warningText:"A rate provider provides critical information to the pool and can be drained should it report bad prices. Review the Terms of Use for more information about service providers risks."}})}:null,{title:t("contractAddress"),value:Te(A),link:m.addressLink(A||"")},y.value?{title:"veBAL gauge",value:Te(y.value),link:m.addressLink(y.value)}:null,{title:t("createDate"),value:Ce((L||0)*1e3,"dd MMMM yyyy")}]}),n=p(()=>{const{owner:w}=r.pool;return w===U.ZeroAddress?{title:t("noOwner"),link:""}:w===U.DelegateOwner?{title:t("delegateOwner.title"),link:""}:{title:Te(w||""),link:m.addressLink(w||"")}}),v=p(()=>r.pool.owner===U.DelegateOwner?t("delegateOwner.tooltip"):""),a=p(()=>r.pool.poolType===ze.Managed?t(""):r.pool.owner===U.ZeroAddress?t("poolAttrs.immutable"):r.pool.owner===U.DelegateOwner?t("poolAttrs.immutableFeesEditableByGovernance"):t("poolAttrs.immutableFeesEditableByOwner"));return(w,A)=>{const B=Pa;return o(),S("div",$a,[s("h3",{class:"px-4 lg:px-0 mb-5",textContent:f(w.$t("poolDetails"))},null,8,La),i(B,{class:"mb-12",tableData:e($)},null,8,["tableData"]),e(a)?(o(),S(W,{key:0},[s("h4",{class:"px-4 lg:px-0 mb-2",textContent:f(w.$t("poolManagement"))},null,8,xa),s("div",Ta,f(e(a)),1)],64)):V("",!0)])}}}),Ba={key:0,class:"flex"},Sa={class:"flex flex-col"},Ca={class:"mb-3"},Ia={class:"mb-2"},Va=E({__name:"StakingCardSyncAlert",props:{fiatValueOfStakedShares:{},fiatValueOfUnstakedShares:{},poolAddress:{},poolId:{}},emits:["shouldStakingCardBeOpened"],setup(g,{emit:r}){const t=g,m=r,c=X(!1),l=X(!1),{networksSyncState:y,shouldPokeGauge:$}=gt(),{hasNonPrefGaugeBalance:n,poolGauges:v,stakedShares:a}=Le(),{networkId:w}=ne(),{isMismatchedNetwork:A}=ee(),{isAffectedBy:B}=Ve(p(()=>t.poolId)),{userGaugeShares:x}=io(),L=p(()=>{var T;const h=(T=x.value)==null?void 0:T.find(I=>I.gauge.poolAddress===t.poolAddress);return!(B(Oe.PoolProtocolFeeVulnWarning)||B(Oe.CspPoolVulnWarning)||!(h!=null&&h.gauge.id))}),P=p(()=>{if(n.value){const h="Restake to be eligible for future incentives";let T="";return y.value[w.value]===Xe.Unsynced&&(T=`After your veBAL syncs to ${jt[w.value].chainName}, restake to move from the deprecated pool gauge to the new boost-aware pool gauge. If you restake before the veBAL syncs, you’ll need to perform another interaction on the gauge to start receiving your staking boost.`),y.value[w.value]===Xe.Synced&&(T="To get your staking boost on this pool, restake to move from the deprecated pool gauge to the new boost-aware pool gauge."),{title:h,text:T}}return null}),_=p(()=>c.value?{title:"You are not getting your max staking boost",text:"You’ve synced new veBAL but it is not being used to increase your staking boost (since pool gauges don’t automatically recognize veBAL changes). Interact with a pool gauge to trigger an update (e.g. by claiming BAL, staking/unstaking or explicitly triggering an update)."}:null);async function u(){var T;if(A.value||Number(a.value)===0)return;const h=(T=v.value)==null?void 0:T.pool.preferentialGauge.id;if(h)try{m("shouldStakingCardBeOpened"),await $(h)&&(c.value=!0)}catch(I){console.log(I)}}return Ee(()=>{u()}),(h,T)=>{const I=ye,N=De;return e(L)?(o(),S("div",Ba,[e(_)?(o(),b(N,{key:0,class:"flex-grow",type:"warning",title:e(_).title},{default:d(()=>[s("div",Sa,[s("span",Ca,f(e(_).text),1),s("div",Ia,[i(I,{size:"sm",color:"gradient",onClick:T[0]||(T[0]=R=>l.value=!0)},{default:d(()=>[q(" Trigger update ")]),_:1})])])]),_:1},8,["title"])):e(P)?(o(),b(N,{key:1,class:"flex-grow",type:"tip",title:e(P).title},{default:d(()=>[q(f(e(P).text),1)]),_:1},8,["title"])):V("",!0),i(_o,{poolAddress:h.poolAddress,isVisible:e(l),onClose:T[1]||(T[1]=R=>l.value=!1),onSuccess:T[2]||(T[2]=R=>c.value=!1)},null,8,["poolAddress","isVisible"])])):V("",!0)}}}),Na={class:"relative"},Ma={class:"p-4 w-full hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition-colors"},Da={class:"relative bg-white dark:bg-gray-850 rounded-b-lg"},Ra=E({__name:"StakingIncentivesCard",props:{pool:{}},emits:["setRestakeVisibility"],setup(g,{emit:r}){const t=g,m=r,c=X(!1),l=X("stake"),y=p(()=>t.pool.id),$=X(!1),{fNum:n}=re(),{balanceFor:v}=ue(),{isStakablePool:a,isLoading:w,isRefetchingStakedShares:A,stakedShares:B,hasNonPrefGaugeBalance:x,preferentialGaugeAddress:L}=Le(),{isAffected:P}=Ve(y),{networkId:_}=ne(),u=p(()=>G(t.pool.totalLiquidity).div(t.pool.totalShares).times((B.value||0).toString()).toString()),h=p(()=>G(t.pool.totalLiquidity).div(t.pool.totalShares).times(v(qe(t.pool.address))).toString()),T=p(()=>!!kt(t.pool.id)||h.value==="0"||x.value||!L.value);function I(){h.value!=="0"&&(l.value="stake",c.value=!0)}function N(){u.value!=="0"&&(l.value="unstake",c.value=!0)}function R(){c.value=!1}return(D,C)=>{const k=oe,M=$e,F=Se,z=ye,Y=De,j=xt;return o(),S("div",null,[i(ie,{isVisible:!e(w)},{default:d(()=>[s("div",Na,[i(j,{class:ae(["shadow-2xl",{handle:e(a)}]),sections:[{title:D.$t("staking.stakingIncentives"),id:"staking-incentives",handle:"staking-handle",isDisabled:!e(a)}],reCalcKey:e(x)?0:1,isOpenedByDefault:e($)},{"staking-handle":d(()=>[s("button",Ma,[i(M,{horizontal:"",justify:"between",align:"center"},{default:d(()=>[i(M,{spacing:"sm",align:"center"},{default:d(()=>[s("div",{class:ae(["flex items-center p-1 text-white rounded-full",{"bg-green-500":e(a),"bg-gray-400":!e(a)}])},[e(a)?(o(),b(k,{key:0,size:"sm",name:"check"})):(o(),b(k,{key:1,size:"sm",name:"x"}))],2),s("h6",null,f(D.$t("staking.stakingIncentives")),1)]),_:1}),e(a)?(o(),b(M,{key:0,horizontal:"",spacing:"sm",align:"center"},{default:d(()=>[i(k,{name:"chevron-down",class:"text-blue-500"})]),_:1})):V("",!0)]),_:1})])]),"staking-incentives":d(()=>[s("div",Da,[i(M,{vertical:"",spacing:"sm",class:"p-4 rounded-b-lg border-t dark:border-gray-900"},{default:d(()=>[i(M,{horizontal:"",justify:"between",class:"rounded-b-lg"},{default:d(()=>[s("span",null,f(D.$t("staked"))+" "+f(D.$t("lpTokens")),1),i(M,{horizontal:"",spacing:"sm",align:"center"},{default:d(()=>[i(ie,{isVisible:e(A)},{default:d(()=>[i(fe,{class:"h-5"})]),_:1},8,["isVisible"]),i(ie,{isVisible:!e(A)},{default:d(()=>[s("span",null,f(e(n)(e(u),e(Z).fiat)),1)]),_:1},8,["isVisible"]),i(F,{text:D.$t("staking.stakedLpTokensTooltip")},null,8,["text"])]),_:1})]),_:1}),i(M,{horizontal:"",justify:"between"},{default:d(()=>[s("span",null,f(D.$t("unstaked"))+" "+f(D.$t("lpTokens")),1),i(M,{horizontal:"",spacing:"sm",align:"center"},{default:d(()=>[i(ie,{isVisible:e(A)},{default:d(()=>[i(fe,{class:"h-5"})]),_:1},8,["isVisible"]),i(ie,{isVisible:!e(A)},{default:d(()=>[s("span",null,f(e(n)(e(h),e(Z).fiat)),1)]),_:1},8,["isVisible"]),i(F,{text:D.$t("staking.unstakedLpTokensTooltip")},null,8,["text"])]),_:1})]),_:1}),e(_)!==e(et).MAINNET?(o(),b(Va,{key:0,poolAddress:D.pool.address,poolId:D.pool.id,fiatValueOfStakedShares:e(u),fiatValueOfUnstakedShares:e(h),onShouldStakingCardBeOpened:C[0]||(C[0]=Q=>$.value=!0)},null,8,["poolAddress","poolId","fiatValueOfStakedShares","fiatValueOfUnstakedShares"])):V("",!0),e(x)&&!e(P)?(o(),b(M,{key:1,horizontal:"",spacing:"sm",class:"mt-2"},{default:d(()=>[i(z,{color:"gradient",size:"sm",onClick:C[1]||(C[1]=Q=>m("setRestakeVisibility",!0))},{default:d(()=>[q(f(D.$t("restake")),1)]),_:1}),i(z,{outline:"",color:"blue",size:"sm",disabled:e(u)==="0",onClick:N},{default:d(()=>[q(f(D.$t("unstake")),1)]),_:1},8,["disabled"])]),_:1})):(o(),b(M,{key:2,horizontal:"",spacing:"sm",class:"mt-2"},{default:d(()=>[i(z,{color:"gradient",size:"sm",disabled:e(T),onClick:I},{default:d(()=>[q(f(D.$t("stake")),1)]),_:1},8,["disabled"]),i(z,{outline:"",color:"blue",size:"sm",disabled:e(u)==="0",onClick:N},{default:d(()=>[q(f(D.$t("unstake")),1)]),_:1},8,["disabled"])]),_:1})),e(x)&&e(_)===e(et).MAINNET?(o(),b(Y,{key:3,title:D.$t("staking.restakeGauge"),class:"mt-2"},{default:d(()=>[q(f(D.$t("staking.restakeGaugeDescription")),1)]),_:1},8,["title"])):V("",!0)]),_:1})])]),_:1},8,["class","sections","reCalcKey","isOpenedByDefault"])])]),_:1},8,["isVisible"]),i(ie,{isVisible:e(w),unmountInstantly:""},{default:d(()=>[i(fe,{class:"h-12"})]),_:1},8,["isVisible"]),i(Tt,{isVisible:e(c),pool:D.pool,action:e(l),onClose:R},null,8,["isVisible","pool","action"])])}}});const Fa={key:0},Oa={class:"relative"},za={class:"p-4 w-full hover:bg-gray-50 dark:hover:bg-gray-800 rounded-xl transition-colors"},qa={class:"flex items-center p-1 text-white bg-green-500 rounded-full"},Ea={class:"overflow-visible relative bg-white dark:bg-gray-850 rounded-b-lg"},ja={key:0},Ha={key:1,class:"text-red-500"},Ua=E({__name:"PoolLockingCard",props:{pool:{}},setup(g){const r=g,t=X(!1),{fNum:m}=re(),{balanceFor:c}=ue(),{totalLockedValue:l,lock:y,isLoadingLockInfo:$,lockPool:n,lockPoolToken:v}=He(),{isWalletReady:a}=ee(),{networkSlug:w}=ne(),A=p(()=>G(r.pool.totalLiquidity).div(r.pool.totalShares)),B=p(()=>c(r.pool.address)),x=p(()=>A.value.times(B.value).toString()),L=p(()=>{var _;return(_=y.value)!=null&&_.isExpired?y.value.lockedAmount:"0"}),P=p(()=>{var _,u;return G(((_=n.value)==null?void 0:_.totalLiquidity)||"0").div(((u=n.value)==null?void 0:u.totalShares)||"0").times(L.value).toString()});return(_,u)=>{const h=oe,T=$e,I=fe,N=Se,R=ye,D=ve,C=xt;return e(a)?(o(),S("div",Fa,[i(ie,{isVisible:!e($)},{default:d(()=>[s("div",Oa,[i(C,{class:ae(["shadow-2xl overflow-visible",{"pool-handle":!e($)}]),sections:[{title:"Locking",id:"locking-module",handle:"locking-handle",isDisabled:e($)}]},{"locking-handle":d(()=>[s("button",za,[i(T,{horizontal:"",justify:"between",align:"center"},{default:d(()=>[i(T,{spacing:"sm",horizontal:""},{default:d(()=>[s("div",qa,[i(h,{size:"sm",name:"check"})]),i(T,{spacing:"sm",align:"center"},{default:d(()=>[s("h6",null,f(_.$t("locking.lockBptForVeBal")),1)]),_:1})]),_:1}),i(T,{horizontal:"",spacing:"sm",align:"center"},{default:d(()=>[i(h,{name:"chevron-down",class:"text-blue-500"})]),_:1})]),_:1})])]),"locking-module":d(()=>[s("div",Ea,[i(T,{vertical:"",spacing:"sm",class:"py-4 px-4 border-t dark:border-gray-900"},{default:d(()=>[i(T,{horizontal:"",justify:"between"},{default:d(()=>{var k;return[(k=e(y))!=null&&k.isExpired?(o(),S("span",Ha,f(_.$t("locking.expiredLockLpTokens")),1)):(o(),S("span",ja,f(_.$t("locked"))+" "+f(_.$t("lpTokens")),1)),i(T,{horizontal:"",spacing:"sm",align:"center"},{default:d(()=>{var M;return[i(ie,{isVisible:!1},{default:d(()=>[i(I,{class:"h-5"})]),_:1}),i(ie,{isVisible:!0},{default:d(()=>{var F;return[s("span",{class:ae({"text-red-500":(F=e(y))==null?void 0:F.isExpired})},f(e(m)(e(l),e(Z).fiat)),3)]}),_:1}),(M=e(y))!=null&&M.isExpired?(o(),b(N,{key:1,text:_.$t("locking.expiredLockTooltip")},{activator:d(()=>[i(h,{class:"text-red-500",size:"sm",name:"alert-triangle"})]),_:1},8,["text"])):(o(),b(N,{key:0,text:_.$t("locking.lockedLpTokensTooltip")},null,8,["text"]))]}),_:1})]}),_:1}),i(T,{horizontal:"",justify:"between"},{default:d(()=>[s("span",null,f(_.$t("unlocked"))+" "+f(_.$t("lpTokens")),1),i(T,{horizontal:"",spacing:"sm",align:"center"},{default:d(()=>[i(ie,{isVisible:!1},{default:d(()=>[i(I,{class:"h-5"})]),_:1}),i(ie,{isVisible:!0},{default:d(()=>[s("span",null,f(e(m)(x.value,e(Z).fiat)),1)]),_:1}),i(N,{text:_.$t("locking.unlockedLpTokensTooltip")},null,8,["text"])]),_:1})]),_:1}),i(T,{horizontal:"",spacing:"sm",class:"mt-2"},{default:d(()=>{var k;return[Number(B.value)>0?(o(),b(D,{key:0,tag:"router-link",to:{name:"get-vebal",query:{returnRoute:_.$route.name,returnParams:JSON.stringify({id:_.pool.id,networkSlug:e(w)})}}},{default:d(()=>[i(R,{disabled:Number(B.value)===0,color:"gradient",size:"sm"},{default:d(()=>[q(f(_.$t("lock")),1)]),_:1},8,["disabled"])]),_:1},8,["to"])):(o(),b(R,{key:1,disabled:Number(B.value)===0,color:"gradient",size:"sm"},{default:d(()=>[q(f(_.$t("lock")),1)]),_:1},8,["disabled"])),(k=e(y))!=null&&k.isExpired?(o(),b(R,{key:2,outline:"",color:"red",size:"sm",onClick:u[0]||(u[0]=M=>t.value=!0)},{default:d(()=>[q(f(_.$t("redeem")),1)]),_:1})):V("",!0)]}),_:1})]),_:1})])]),_:1},8,["class","sections"])])]),_:1},8,["isVisible"]),i(ie,{isVisible:e($),unmountInstantly:""},{default:d(()=>[i(I,{class:"h-12"})]),_:1},8,["isVisible"]),(o(),b(Ht,{to:"#modal"},[t.value&&e(y)&&e(n)&&e(v)?(o(),b(fo,{key:0,lockablePool:e(n),lockablePoolTokenInfo:e(v),veBalLockInfo:e(y),totalLpTokens:L.value,fiatTotalLpTokens:P.value,onClose:u[1]||(u[1]=k=>t.value=!1)},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo","totalLpTokens","fiatTotalLpTokens"])):V("",!0)]))])):V("",!0)}}});const Wa="/assets/apy-vision-a5b6d522.svg";function Ya(g){return g.map(r=>r.symbol).join("-")}function Ga(){return{apyVisionNetworkName:p(()=>{var r;return(r=rt.network.thirdParty.apyVision)==null?void 0:r.networkName}),poolPathSymbolSegment:Ya}}const Qa={key:0,class:"group flex items-center mt-6 mb-5 w-fit h-fit"},Ka=s("img",{width:"32",height:"32",class:"mr-2 rounded-full group-hover:shadow-lg transition",src:Wa,alt:""},null,-1),Ja=E({__name:"ApyVisionPoolLink",props:{poolId:{},tokens:{}},setup(g){const{poolPathSymbolSegment:r,apyVisionNetworkName:t}=Ga();return(m,c)=>{const l=oe,y=ve;return e(t)?(o(),S("div",Qa,[i(y,{href:"https://app.apy.vision/pools/balancerv2_"+e(t)+"-"+e(r)(m.tokens)+"-"+e(Ut)(m.poolId),external:"",noStyle:"",class:"flex items-center font-medium link link-black"},{default:d(()=>[Ka,q(" "+f(m.$t("apyvisionPoolInsights"))+" ",1),i(l,{name:"arrow-up-right",size:"sm",class:"ml-0.5 text-gray-500 group-hover:text-blue-500 hover:text-blue-400 transition-colors"})]),_:1},8,["href"])])):V("",!0)}}}),Za=E({name:"GauntletIcon"}),Xa={width:"20",height:"20",xmlns:"http://www.w3.org/2000/svg"},en=Wt('<g fill="none" fill-rule="evenodd"><circle fill="#192533" cx="10" cy="10" r="10"></circle><g fill-rule="nonzero"><path d="M11.608 12.19v-2.095H9.453V8h4.31v4.19h-2.155zm2.155-6.285H7.298v6.285H5.143V3.81h8.62v2.095z" fill="#87ABC5"></path><path fill="#87ABC5" d="M13.763 13.029v1.257H7.298V12.19h4.31v-.942h2.155z"></path><path fill="#FFF" d="M15.918 5.905V8h-2.155V5.905z"></path><path fill="#1D252E" d="M7.298 12.19v2.096H5.143V12.19z"></path><path fill="#F07F53" d="M7.298 14.286v2.095H5.143v-2.095z"></path></g></g>',1),tn=[en];function on(g,r,t,m,c,l){return o(),S("svg",Xa,tn)}const sn=te(Za,[["render",on]]),an={class:"flex flex-col"},nn={class:"flex flex-wrap items-center -mt-2"},ln={key:0},rn={class:"pool-title"},cn={class:"text-sm"},un={key:1,class:"pool-title"},dn={class:"flex flex-wrap items-center"},pn={class:"ml-2"},mn={key:0,class:"mt-px ml-1 text-xs font-medium text-gray-400"},vn={class:"flex items-center mt-2"},gn=["innerHTML"],_n={key:0,class:"flex mt-2"},fn=["innerHTML"],yn=["innerHTML"],kn={href:"https://github.com/balancer/frontend-v2/wiki/How-tos#add-a-new-pool",target:"_blank",class:"underline"},hn={href:"https://github.com/balancer/frontend-v2/wiki/How-tos#add-a-new-pool",target:"_blank",class:"underline"},bn=E({__name:"PoolPageHeader",props:{loadingApr:{type:Boolean,default:!0},isStableLikePool:{type:Boolean},pool:{},poolApr:{default:void 0},titleTokens:{},missingPrices:{type:Boolean},isLiquidityBootstrappingPool:{type:Boolean},isComposableStableLikePool:{type:Boolean}},emits:["setRestakeVisibility"],setup(g,{emit:r}){const t=g,m=r,c=p(()=>we(t,"pool").value.id),{isAffected:l,warnings:y}=Ve(c),{hasNonApprovedRateProviders:$}=he(we(t,"pool")),{fNum:n}=re(),{t:v}=pe(),{explorerLinks:a}=ee(),{balancerTokenListTokens:w,getToken:A}=ue(),{hasNonPrefGaugeBalance:B}=Le(),{disableJoinsReason:x,nonAllowedSymbols:L}=$t(t.pool),P=p(()=>{var k;return((k=t.pool)==null?void 0:k.owner)==U.ZeroAddress}),_=p(()=>{var k;return((k=t.pool)==null?void 0:k.owner)==U.DelegateOwner}),u=p(()=>_.value&&U.DynamicFees.Gauntlet.includes(t.pool.id)),h=p(()=>u.value?v("feesManagedByGauntlet"):_.value?v("delegateFeesTooltip"):P.value?v("fixedFeesTooltip"):v("ownerFeesTooltip")),T=p(()=>{var M;if(!t.pool||!((M=t.pool)!=null&&M.swapFee))return"";const k=`${n(t.pool.swapFee,{style:"percent",maximumFractionDigits:4})}`;return P.value?v("fixedSwapFeeLabel",[k]):_.value?u.value?v("dynamicSwapFeeLabel",[k]):v("communitySwapFeeLabel",[k]):v("dynamicSwapFeeLabel",[k])}),I=p(()=>{const k=Object.keys(w.value);return!t.isLiquidityBootstrappingPool&&!t.isComposableStableLikePool&&t.pool.tokensList.some(M=>!ht(k,M))}),N=p(()=>{var M;if(!((M=t.pool)!=null&&M.factory))return"";const k=U.Factories[t.pool.factory];return v(k||"unknownPoolType")}),R=p(()=>yt(t.pool.id)),D=p(()=>!!R.value);function C(k){var F;const M=t.titleTokens[k];return((F=A(M.address))==null?void 0:F.symbol)||M.symbol||"---"}return(k,M)=>{var O,se,be;const F=Be,z=oe,Y=ve,j=Se,Q=yo,H=De,le=ye,K=$e;return o(),S(W,null,[s("div",an,[s("div",nn,[e(D)?(o(),S("div",ln,[s("h3",rn,f((O=e(R))==null?void 0:O.name),1),s("h5",cn,f(e(N)),1)])):(o(),S("h3",un,f(e(N)),1))]),s("div",dn,[(o(!0),S(W,null,ce(k.titleTokens,({address:ge,weight:_e},ke)=>(o(),S("div",{key:ke,class:"flex items-center px-2 mt-2 mr-2 h-10 bg-gray-50 dark:bg-gray-850 rounded-lg"},[i(F,{address:ge},null,8,["address"]),s("span",pn,f(C(ke)),1),!k.isStableLikePool&&_e&&_e!=="0"?(o(),S("span",mn,f(e(n)(_e||"0",{style:"percent",maximumFractionDigits:0})),1)):V("",!0)]))),128)),(se=k.pool)!=null&&se.isNew?(o(),b(At,{key:0,class:"mt-2 mr-2"})):V("",!0),k.loadingApr?V("",!0):(o(),b(Lt,{key:1,pool:k.pool,poolApr:k.poolApr,class:"mt-1 -ml-1"},null,8,["pool","poolApr"])),i(Y,{href:e(a).addressLink(((be=k.pool)==null?void 0:be.address)||""),external:"",noStyle:"",class:"flex items-center"},{default:d(()=>[i(z,{name:"arrow-up-right",size:"sm",class:"mt-2 ml-2 text-gray-500 hover:text-blue-500 transition-colors"})]),_:1},8,["href"])]),s("div",vn,[s("div",{class:"mr-1 text-sm text-secondary",innerHTML:e(T)},null,8,gn),i(j,null,{activator:d(()=>[e(u)?(o(),b(Y,{key:0,href:e(Yt).Gauntlet.Home,external:""},{default:d(()=>[i(sn)]),_:1},8,["href"])):(o(),b(z,{key:1,name:"info",size:"xs",class:"text-gray-400 dark:text-gray-500"}))]),default:d(()=>[s("span",null,f(e(h)),1)]),_:1})])]),k.pool.isInRecoveryMode||k.pool.isPaused?(o(),S("div",_n,[k.pool.isInRecoveryMode?(o(),b(Q,{key:0,class:"mr-2",color:"orange",outline:!1},{default:d(()=>[q(" Recovery Mode ")]),_:1})):V("",!0),k.pool.isPaused?(o(),b(Q,{key:1,color:"orange",outline:!1},{default:d(()=>[q(" Paused ")]),_:1})):V("",!0)])):V("",!0),e($)?(o(),b(H,{key:1,type:"warning",title:k.$t("hasNonApprovedRateProviders"),class:"mt-2",block:""},null,8,["title"])):V("",!0),k.missingPrices?(o(),b(H,{key:2,type:"warning",title:k.$t("noPriceInfo"),class:"mt-2",block:""},null,8,["title"])):V("",!0),!e(x).nonVettedTokensAfterTimestamp&&e(I)?(o(),b(H,{key:3,type:"warning",title:k.$t("highRiskPool"),class:"mt-2",block:""},null,8,["title"])):V("",!0),e(B)&&!e(l)&&!e(vt)(k.pool.poolType)?(o(),b(H,{key:4,title:k.$t("staking.restakeGauge"),type:"warning",class:"mt-2"},{default:d(()=>[i(K,{spacing:"sm"},{default:d(()=>[s("span",null,f(k.$t("staking.restakeGaugeDescription")),1),s("div",null,[i(le,{color:"gradient",class:"p-2",size:"sm",onClick:M[0]||(M[0]=ge=>m("setRestakeVisibility",!0))},{default:d(()=>[q(f(k.$t("restake")),1)]),_:1})])]),_:1})]),_:1},8,["title"])):V("",!0),e(l)?(o(!0),S(W,{key:5},ce(e(y),(ge,_e)=>(o(),b(H,{key:`warning-${_e}`,type:"error",class:"mt-2",block:""},{title:d(()=>[s("div",{innerHTML:ge.title},null,8,fn)]),description:d(()=>[s("div",{innerHTML:ge.description},null,8,yn)]),_:2},1024))),128)):V("",!0),e(x).notInitialLiquidity?(o(),b(H,{key:6,type:"warning",title:k.$t("noInitLiquidity"),description:k.$t("noInitLiquidityDetail"),class:"mt-2",block:""},null,8,["title","description"])):V("",!0),e(x).nonVettedTokensAfterTimestamp?(o(),b(H,{key:7,type:"warning",title:k.$t("investment.warning.blockedPool.title",[e(L)]),class:"mt-2",block:""},{default:d(()=>[q(f(k.$t("investment.warning.blockedPool.description"))+" ",1),s("a",kn,f(k.$t("here")),1),q(" "+f(k.$t("investment.warning.blockedPool.description2")),1)]),_:1},8,["title"])):V("",!0),e(x).requiresAllowListing||e(x).nonAllowedWeightedPoolAfterTimestamp?(o(),b(H,{key:8,type:"warning",title:k.$t("requiresAllowListing1"),class:"mt-2",block:""},{default:d(()=>[q(f(k.$t("Click"))+" ",1),s("a",hn,f(k.$t("here")),1),q(" "+f(k.$t("requiresAllowListing2")),1)]),_:1},8,["title"])):V("",!0)],64)}}});const wn=te(bn,[["__scopeId","data-v-f448a223"]]);function Pn(g,r={}){const t=bt.findPool(g),m=Ye(g),{networkId:c}=ne(),l=p(()=>m.data.value),y=p(()=>{var a;return!!((a=l.value)!=null&&a.id)||!!t}),$=Pe.Pools.APR(c,g),n=async()=>{let a;if(t)a=t;else if(l.value)a={...l.value,tokens:[...l.value.tokens]};else throw new Error("No pool");return a!=null&&a.apr?a.apr:(a.chainId=c.value,await Gt().pools.apr(a))},v=de({enabled:y,...r});return wt($,n,v)}function $n(g,r,t={}){const m=bt.findPool(g),{networkId:c}=ne(),l=Ye(g),y=p(()=>l.data.value),$=p(()=>{var w;return!!((w=y.value)!=null&&w.id)||!!m}),n=Pe.Pools.Snapshot(c,g),v=async()=>{var A;if(!y.value&&!m)throw new Error("No pool");const w=(m==null?void 0:m.createTime)||((A=y.value)==null?void 0:A.createTime)||0;return await Ae.poolSnapshots.get({where:{pool:g.toLowerCase(),timestamp_gt:w}})},a=de({enabled:$,...t});return wt(n,v,a)}const Ln={xave:{id:"xave",title:"brandedRedirect.xave.title",description:"brandedRedirect.xave.description",btnText:"brandedRedirect.xave.btnText",link:"https://app.xave.co/",buildBannerPath:xn},gyro:{id:"gyro",title:"brandedRedirect.gyro.title",description:"brandedRedirect.gyro.description",btnText:"brandedRedirect.gyro.btnText",link:"https://app.gyro.finance/"}};function xn(){return new URL("/assets/xave-331a94ce.png",self.location).href}const Tn={class:"flex flex-col items-center"},An=["src","alt"],Bn={class:"py-4 px-6 w-full"},Sn={class:"mb-1.5 text-lg font-semibold"},Cn={class:"mb-3"},In=E({__name:"BrandedRedirectCard",props:{poolType:{}},setup(g){const r=g,t=p(()=>{var y;if(!r.poolType)return;const l=(y=U.BrandedRedirect)==null?void 0:y[r.poolType];if(l)return Ln[l]}),m=p(()=>{var l;return typeof((l=t.value)==null?void 0:l.buildBannerPath)=="function"}),c=p(()=>m.value?t.value.buildBannerPath():"");return(l,y)=>{const $=oe,n=ye,v=me,a=$e;return e(t)?(o(),b(a,{key:0,vertical:""},{default:d(()=>[i(v,{shadow:"2xl",noPad:"",class:"rounded-xl",growContent:""},{default:d(()=>[s("div",Tn,[e(m)?(o(),S("img",{key:0,src:e(c),alt:e(t).title},null,8,An)):V("",!0),s("div",Bn,[s("div",Sn,f(l.$t(e(t).title)),1),s("div",Cn,f(l.$t(e(t).description)),1),e(t).link?(o(),b(n,{key:0,color:"blue",block:"",tag:"a",href:e(t).link,target:"_blank",rel:"noopener noreferrer"},{default:d(()=>[q(f(l.$t(e(t).btnText))+" ",1),i($,{name:"arrow-up-right",size:"sm",class:"ml-2"})]),_:1},8,["href"])):V("",!0)])])]),_:1})]),_:1})):V("",!0)}}}),Vn={class:"flex gap-2 items-center"},Nn=E({__name:"NewPoolData",props:{pool:{}},setup(g){function r(c){return Qt(c.id)?[c.address]:Kt(c)}const{networkSlug:t}=ne(),m=X(!1);return(c,l)=>{const y=ko,$=oe,n=dt("router-link");return o(),b(n,{as:"div",to:{name:"pool",params:{id:c.pool.id,networkSlug:e(t)}},class:"flex justify-between items-center py-3 pl-1 transition-all cursor-pointer hover:bg-[#11182766]",onMouseleave:l[0]||(l[0]=v=>m.value=!1),onMouseover:l[1]||(l[1]=v=>m.value=!0)},{default:d(()=>[s("div",Vn,[i(y,{addresses:r(c.pool),width:60},null,8,["addresses"]),i(ho,{tokens:e(Pt)(c.pool,c.pool.tokens),isOnMigrationCard:"",isHovered:e(m)},null,8,["tokens","isHovered"]),c.pool.isNew?(o(),b(At,{key:0,class:"mb-1"})):V("",!0)]),i($,{name:"arrow-right",size:"sm",class:ae(["arrow",{"arrow-hovered":e(m)}])},null,8,["class"])]),_:1},8,["to"])}}});const lt=te(Nn,[["__scopeId","data-v-bba5e894"]]);const Mn={};function Dn(g,r){const t=me;return o(),b(t,{shadow:"2xl",noPad:"",class:"bg-cover rounded-xl gradients",growContent:""},{default:d(()=>[pt(g.$slots,"default",{},void 0,!0)]),_:3})}const Rn=te(Mn,[["render",Dn],["__scopeId","data-v-5f80dfa3"]]),Fn={class:"flex flex-col items-center text-white"},On={class:"container pt-5"},zn={class:"mb-2 text-3xl font-bold text-opacity-90"},qn={class:"mb-3 text-sm font-medium text-opacity-80"},En={key:0,class:"no-pad"},jn={class:"pb-3 mx-5 font-bold border-b border-gray-300 border-opacity-25 no-pad pools"},Hn={key:1,class:"no-pad"},Un={class:"pb-3 mx-5 font-bold border-b border-gray-300 border-opacity-25 no-pad"},Wn={class:"no-pad"},Yn={key:2,class:"flex py-3"},Gn=E({__name:"PoolMigrationCard",props:{poolId:{}},setup(g){var _;const r=g,{networkSlug:t}=ne(),{t:m}=pe(),c=p(()=>kt(r.poolId)||Jt(r.poolId)||Zt(r.poolId)),l=p(()=>{var u;return!!((u=c.value)!=null&&u.newPool)}),y=Ye((_=c.value)==null?void 0:_.newPool,l),$=p(()=>{var u,h;return!!((h=(u=c.value)==null?void 0:u.suggestedPools)!=null&&h.length)}),n=p(()=>{var u;return{poolIds:(u=c.value)==null?void 0:u.suggestedPools}}),v=Xt(n),a=p(()=>y&&y.isLoading.value),w=p(()=>{if(y)return y.data.value}),A=p(()=>v&&v.isLoading.value),B=p(()=>{var u,h;if(v)return(h=(u=v.data.value)==null?void 0:u.pages)==null?void 0:h[0].pools}),x=p(()=>l.value&&a.value||$.value&&A.value),L=p(()=>{var h;const u=(h=c.value)==null?void 0:h.description;return m(u||"migrateCard.description")}),P=p(()=>{var h;const u=(h=c.value)==null?void 0:h.title;return m(u||"migrateCard.title")});return(u,h)=>{const T=fe,I=ye,N=$e;return e(x)?(o(),b(T,{key:0,class:"mb-4 h-60 pool-actions-card"})):(o(),b(N,{key:1,vertical:""},{default:d(()=>[i(Rn,null,{default:d(()=>[s("div",Fn,[s("div",On,[s("div",zn,f(e(P)),1),s("div",qn,f(e(L)),1),e(w)?(o(),S("div",En,[s("div",jn,f(u.$t("migrateCard.upgradedPool")),1),i(lt,{pool:e(w)},null,8,["pool"])])):e(B)?(o(),S("div",Hn,[s("div",Un,f(u.$t("migrateCard.recommendedPool")),1),s("div",Wn,[(o(!0),S(W,null,ce(e(B),R=>(o(),b(lt,{key:R.id,pool:R},null,8,["pool"]))),128))])])):(o(),S("div",Yn,[i(I,{class:"flex-grow hover:!text-white",color:"transparent",outline:"",label:u.$t("migrateCard.viewBtn"),onClick:h[0]||(h[0]=R=>u.$router.push({name:"vebal",params:{networkSlug:e(t)}}))},null,8,["label"])]))])])]),_:1})]),_:1}))}}});const Qn=te(Gn,[["__scopeId","data-v-926e4f33"]]),Kn=g=>(ao("data-v-7139b8fa"),g=g(),no(),g),Jn={class:"xl:container lg:px-4 pt-8 xl:mx-auto"},Zn={class:"grid grid-cols-1 lg:grid-cols-3 gap-x-0 lg:gap-x-4 xl:gap-x-8 gap-y-8"},Xn={class:"col-span-2 px-4 lg:px-0"},el=Kn(()=>s("div",{class:"hidden lg:block"},null,-1)),tl={class:"order-2 lg:order-1 col-span-2"},ol={class:"grid grid-cols-1 gap-y-8"},sl={class:"px-4 lg:px-0"},al={class:"px-4 lg:px-0 mb-4"},nl={class:"mb-4"},ll=["textContent"],il={class:"order-1 lg:order-2 px-4 lg:px-0"},rl={key:1},cl=E({__name:"_id",setup(g){const r=ro();co(r);const t=eo(),m=it(),c=t.params.id.toLowerCase(),l=X(!1),{prices:y,priceQueryLoading:$}=ue(),{isWalletReady:n}=ee(),v=Ie(c),{pool:a,isLoadingPool:w}=bo(),{isStableLikePool:A,isLiquidityBootstrappingPool:B,isComposableStableLikePool:x,isDeprecatedPool:L,isNewPoolAvailable:P}=he(a),_=p(()=>w.value||!a.value),u=$n(c,void 0,{refetchOnWindowFocus:!1}),h=p(()=>u.isLoading.value),T=p(()=>u.data.value),I=Pn(c),N=p(()=>I.isLoading.value||!!I.error.value),R=p(()=>I.data.value),D=X(null),C=X(!1);let k;function M(){if(!("IntersectionObserver"in window)||!("IntersectionObserverEntry"in window)||!D.value){C.value=!0;return}const K={rootMargin:"-100px"},O=se=>{se.forEach(be=>{be.isIntersecting&&(C.value=!0)})};k=new IntersectionObserver(O,K),k.observe(D.value)}async function F(){C.value=!0,await mt(),m.push({path:t.fullPath,hash:"#risks-section"})}Ee(()=>{M()}),to(()=>{k==null||k.disconnect()});const z=p(()=>{if(a.value&&y.value&&!$.value){const K=Object.keys(y.value);return!oo(a.value.tokens).every(se=>ht(K,se))}return!1}),Y=p(()=>!a.value||!a.value.tokens?[]:Pt(a.value,a.value.tokens)),j=p(()=>U.Stakable.VotingGaugePools.includes(c)||U.Stakable.AllowList.includes(c)),Q=p(()=>a.value?_t(a.value)??null:null),H=p(()=>{var K;return a.value&&((K=U.BrandedRedirect)==null?void 0:K[a.value.poolType])||!1});function le(K){l.value=K}return so(()=>a.value,()=>{a.value&&lo.setMeta(t,a.value)}),(K,O)=>{var ge,_e;const se=fe,be=$e;return o(),S("div",Jn,[s("div",Zn,[s("div",Xn,[e(_)||!e(a)?(o(),b(se,{key:0,class:"header-loading-block"})):(o(),b(wn,{key:1,loadingApr:e(N),pool:e(a),poolApr:e(R),isStableLikePool:e(A),titleTokens:e(Y),missingPrices:e(z),isLiquidityBootstrappingPool:e(B),isComposableStableLikePool:e(x),onSetRestakeVisibility:le},null,8,["loadingApr","pool","poolApr","isStableLikePool","titleTokens","missingPrices","isLiquidityBootstrappingPool","isComposableStableLikePool"]))]),el,s("div",tl,[s("div",ol,[s("div",sl,[i(e(_s),{historicalPrices:null,snapshots:e(T),loading:e(h),totalLiquidity:(ge=e(a))==null?void 0:ge.totalLiquidity,tokensList:e(a)?e(ft)(e(a)):[],poolType:(_e=e(a))==null?void 0:_e.poolType,poolPremintedBptIndex:e(Q)},null,8,["snapshots","loading","totalLiquidity","tokensList","poolType","poolPremintedBptIndex"])]),s("div",al,[i(e(ks),{pool:e(a),poolApr:e(R),loading:e(_),loadingApr:e(N)},null,8,["pool","poolApr","loading","loadingApr"]),!e(_)&&e(a)?(o(),b(Ja,{key:0,poolId:e(a).id,tokens:e(Y)},null,8,["poolId","tokens"])):V("",!0)]),s("div",nl,[s("h3",{class:"px-4 lg:px-0 mb-3",textContent:f(K.$t("poolComposition.title"))},null,8,ll),e(_)?(o(),b(se,{key:0,class:"h-64"})):e(a)?(o(),b(e(Qo),{key:1,pool:e(a)},null,8,["pool"])):V("",!0)]),s("div",{ref_key:"intersectionSentinel",ref:D},null,512),e(C)&&e(a)?(o(),S(W,{key:0},[i(e(ga),{pool:e(a),loading:e(_)},null,8,["pool","loading"]),i(e(Aa),{pool:e(a)},null,8,["pool"])],64)):V("",!0)])]),s("div",il,[i(be,{vertical:""},{default:d(()=>{var ke;return[e(H)&&e(a)?(o(),b(In,{key:0,poolType:(ke=e(a))==null?void 0:ke.poolType},null,8,["poolType"])):(o(),S("div",rl,[e(_)||!e(a)?(o(),b(se,{key:0,class:"mb-4 h-60 pool-actions-card"})):e(B)?V("",!0):(o(),b(e(Io),{key:1,pool:e(a),missingPrices:e(z),class:"mb-4",onRisksClicked:O[0]||(O[0]=ul=>F())},null,8,["pool","missingPrices"]))])),e(_)?(o(),b(se,{key:2,class:"h-40 pool-actions-card"})):V("",!0),e(j)&&!e(_)&&e(a)&&e(n)?(o(),b(Ra,{key:3,pool:e(a),class:"staking-incentives",onSetRestakeVisibility:le},null,8,["pool"])):V("",!0),e(v)&&!e(_)&&e(a)?(o(),b(Ua,{key:4,pool:e(a),class:"pool-locking"},null,8,["pool"])):V("",!0),e(c)&&e(n)&&(e(L)||e(P))?(o(),b(Qn,{key:5,poolId:e(c)},null,8,["poolId"])):V("",!0)]}),_:1})]),e(a)?(o(),b(Tt,{key:0,isVisible:e(l),pool:e(a),action:"restake",onClose:O[1]||(O[1]=ke=>l.value=!1),onSuccess:O[2]||(O[2]=ke=>l.value=!1)},null,8,["isVisible","pool"])):V("",!0)])])}}});const Yl=te(cl,[["__scopeId","data-v-7139b8fa"]]);export{Yl as default};
//# sourceMappingURL=_id-b4b91a73.js.map
