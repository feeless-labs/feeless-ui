import{_ as q}from"./BalTooltip.vue_vue_type_style_index_0_lang-8cf64573.js";import{d as L,y as M,l as I,u as O,c as a,G as S,f_ as J,F as d,o as n,a as P,B as A,w as v,e as $,t as o,a3 as E,f as N,a4 as W,b as l,C as m,z as K,bk as Q,b6 as X,bi as Z,U as C,f$ as ee,T as H,a8 as ae}from"./index-60943df8.js";import{_ as te}from"./useDisabledJoinPool-1947dad7.js";import{_ as z}from"./BalVStack.vue_vue_type_script_setup_true_lang-a25ce916.js";import{_ as D}from"./BalHStack.vue_vue_type_script_setup_true_lang-f88d7582.js";const se={"data-testid":"staking-apr"},oe=l("span",null,"Staking APR",-1),le=l("span",null,"Staking APR",-1),ne={class:"ml-2"},re=L({__name:"StakingBreakdown",props:{pool:{},poolApr:{}},setup(y){const r=y,{fNum:u}=M(),{getToken:b}=I(),{isWalletReady:s}=O(),p=a(()=>{var e;return((e=r.pool)==null?void 0:e.apr)||r.poolApr}),c=a(()=>{var e;return((e=r.pool)==null?void 0:e.boost)||""}),g=a(()=>!!c.value&&c.value!=="1"&&s.value),_=a(()=>{var e;return(e=p.value)==null?void 0:e.stakingApr}),t=a(()=>{var e,R;return((e=_.value)==null?void 0:e.min)===((R=_.value)==null?void 0:R.max)}),f=a(()=>{var e;return((e=_.value)==null?void 0:e.min)||0}),h=a(()=>{var e;return((e=_.value)==null?void 0:e.max)||0}),i=a(()=>{var e;return((e=p.value)==null?void 0:e.rewardAprs.total)||0}),w=a(()=>S(i.value).gt(0)),B=a(()=>S(f.value).plus(i.value).toNumber()),T=a(()=>S(h.value).plus(i.value).toNumber()),j=a(()=>{if(p.value&&J(p.value)){const e=S(f.value).times(c.value).plus(i.value).toString();return u(e,d.bp)}return u(i.value,d.bp)}),F=a(()=>t.value?u(B.value,d.bp):`${u(B.value,d.bp)} - ${u(T.value,d.bp)}`),Y=a(()=>{var R;const e=[];if(t.value||e.push(["Min BAL",f.value],["Max BAL",h.value]),w.value){t.value&&f.value>0&&e.push(["BAL",f.value]);const k=(R=p.value)==null?void 0:R.rewardAprs.breakdown;k?Object.keys(k).forEach(x=>{var V;k[x]!==0&&e.push([((V=b(x))==null?void 0:V.symbol)||"Rewards",k[x]])}):e.push(["Rewards",i.value])}return e});return(e,R)=>{const k=D,x=z;return n(),P("div",se,[g.value?(n(),A(k,{key:0,justify:"between",class:"font-bold"},{default:v(()=>[oe,$(" "+o(j.value),1)]),_:1})):(n(),P(E,{key:1},[N(k,{justify:"between",class:"font-bold"},{default:v(()=>[le,$(" "+o(F.value),1)]),_:1}),N(x,{spacing:"xs",class:"mt-1"},{default:v(()=>[(n(!0),P(E,null,W(Y.value,([V,G],U)=>(n(),A(k,{key:U,justify:"between",class:"text-gray-500"},{default:v(()=>[l("span",ne,o(V)+" "+o(e.$t("apr")),1),$(" "+o(m(u)(G,m(d).bp)),1)]),_:2},1024))),128))]),_:1})],64))])}}}),ue={"data-testid":"vebal-apr",class:"flex justify-between items-center text-sm font-bold"},pe=L({__name:"VeBalBreakdown",props:{apr:{}},setup(y){const r=y,{fNum:u}=M(),b=a(()=>u(r.apr,d.bp));return(s,p)=>(n(),P("div",ue,[l("span",null,o(s.$t("tooltips.veBalApr.title")),1),l("span",null,o(b.value),1)]))}}),ce={"data-testid":"yield-apr"},ie={class:"ml-2"},de=L({__name:"YieldBreakdown",props:{yieldAPR:{},pool:{}},setup(y){const r=y,{getTokens:u}=I(),{fNum:b}=M(),s=a(()=>u(Object.keys(r.yieldAPR.breakdown))),p=a(()=>Object.entries(r.yieldAPR.breakdown));return(c,g)=>{const _=D,t=z;return n(),P("div",ce,[N(_,{justify:"between",class:"font-bold"},{default:v(()=>[l("span",null,o(c.$t("yieldAprRewards.apr.boosted")),1),$(" "+o(m(b)(c.yieldAPR.total,m(d).bp)),1)]),_:1}),N(t,{spacing:"xs",class:"mt-1"},{default:v(()=>[(n(!0),P(E,null,W(p.value,([f,h],i)=>(n(),A(_,{key:i,justify:"between",class:"text-gray-500"},{default:v(()=>{var w;return[l("span",ie,o((w=s.value[m(K)(f)])==null?void 0:w.symbol)+" "+o(c.$t("apr")),1),$(" "+o(m(b)(h,m(d).bp)),1)]}),_:2},1024))),128))]),_:1})])}}}),me={class:"ml-1"},_e={class:"text-sm divide-y dark:divide-gray-900"},ve={class:"px-3 pt-3 pb-1 bg-gray-50 dark:bg-gray-800 rounded-t","data-testid":"total-apr"},be={class:"text-secondary"},fe={class:"text-lg font-bold normal-nums tracking-tighter"},ke={class:"p-3 text-left"},Ae={class:"flex justify-between items-center mb-1 text-sm font-bold whitespace-nowrap","data-testid":"swap-fee-apr"},Pe=L({__name:"APRTooltip",props:{pool:{},poolApr:{}},setup(y){const r=y,{fNum:u}=M(),{isWalletReady:b}=O(),s=a(()=>{var t;return((t=r.pool)==null?void 0:t.apr)||r.poolApr}),p=a(()=>{var t;return Number(((t=s.value)==null?void 0:t.swapFees)||0)<=Q}),c=a(()=>{var t;return S(((t=s.value)==null?void 0:t.tokenAprs.total)||"0").gt(0)}),g=a(()=>X(r.pool.id)),_=a(()=>s.value?Z(s.value,r.pool.boost,b.value):"0");return(t,f)=>{const h=te,i=ae,w=q;return p.value?(n(),A(w,{key:0,width:"64",noPad:""},{activator:v(()=>[l("div",me,[c.value||m(ee)(s.value)||g.value?(n(),A(h,H({key:0,gradFrom:g.value?"purple":"yellow",class:"-mr-1 h-4"},t.$attrs),null,16,["gradFrom"])):(n(),A(i,H({key:1,name:"info",size:"sm",class:"text-gray-400 dark:text-gray-500"},t.$attrs),null,16))])]),default:v(()=>{var B,T,j,F;return[l("div",_e,[l("div",ve,[l("div",be,o(t.$t("totalAPR")),1),l("div",fe,o(_.value),1)]),l("div",ke,[g.value?(n(),A(pe,{key:0,apr:((B=s.value)==null?void 0:B.protocolApr)||0,class:"mb-3"},null,8,["apr"])):C("",!0),N(re,{pool:t.pool,poolApr:s.value,class:"mb-3"},null,8,["pool","poolApr"]),(T=s.value)!=null&&T.tokenAprs&&c.value?(n(),A(de,{key:1,yieldAPR:(j=s.value)==null?void 0:j.tokenAprs,pool:t.pool,class:"mb-3"},null,8,["yieldAPR","pool"])):C("",!0),l("div",Ae,[l("span",null,o(t.$t("swapFeeAPR")),1),$(" "+o(m(u)(((F=s.value)==null?void 0:F.swapFees)||"0",m(d).bp)),1)])])])]}),_:1})):C("",!0)}}});export{Pe as _};
//# sourceMappingURL=APRTooltip.vue_vue_type_script_setup_true_lang-7ca94d25.js.map
