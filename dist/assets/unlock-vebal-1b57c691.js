import{B as C,_ as F}from"./BalAsset-68194947.js";import{C as V}from"./Col3Layout-c3f8cef0.js";import{u as A}from"./usePoolQuery-da6fa219.js";import{d as L,y as N,o as a,a as T,b as o,t as n,f as B,C as r,F as g,E as S,u as w,c as i,G as $,w as f,j as x,B as t,e as j,U as Q,aB as U,a3 as W,a7 as E,H as R,l as D,av as G,ax as M,aC as q}from"./index-60943df8.js";import{_ as z}from"./MyVeBAL.vue_vue_type_script_setup_true_lang-b25cf078.js";import{_ as H}from"./UnlockPreviewModal.vue_vue_type_script_setup_true_lang-e5bd9b8c.js";import"./constants-5d025550.js";import"./BalCircle-528e0679.js";import"./BalActionSteps.vue_vue_type_script_setup_true_lang-cd43f961.js";import"./BalTooltip.vue_vue_type_style_index_0_lang-8cf64573.js";import"./BalAlert-7103ffb1.js";import"./anime.es-37453147.js";const O={class:"mb-6"},Z={class:"pb-4"},J={class:"p-3 dark:bg-gray-800 rounded-lg border dark:border-gray-800"},K={class:"flex items-center"},X={class:"w-full"},Y={class:"flex justify-between"},oo={class:"flex justify-between text-gray-500"},eo=L({__name:"LockedAmount",props:{lockablePool:{},lockablePoolTokenInfo:{},totalLpTokens:{},fiatTotalLpTokens:{}},setup(m){const{fNum:s}=N();return(l,p)=>{const k=C;return a(),T("div",O,[o("div",Z,n(l.$t("unlockVeBAL.unlockForm.lockedAmount.title")),1),o("div",J,[o("div",K,[B(k,{address:l.lockablePool.address,class:"mr-2",size:36},null,8,["address"]),o("div",X,[o("div",Y,[o("div",null,n(l.lockablePoolTokenInfo.symbol),1),o("div",null,n(r(s)(l.totalLpTokens,r(g).token)),1)]),o("div",oo,[o("div",null,n(l.lockablePoolTokenInfo.name),1),o("div",null,n(r(s)(l.fiatTotalLpTokens,r(g).fiat)),1)])])])])])}}}),lo={class:"w-full"},ao={class:"text-xs leading-none text-secondary"},so={class:"flex justify-between items-center"},no={class:"mt-6"},to=L({__name:"VeBalUnlockForm",props:{lockablePool:{},lockablePoolTokenInfo:{},veBalLockInfo:{}},setup(m){const s=m,l=S(!1),{isWalletReady:p,startConnectWithInjectedProvider:k,isMismatchedNetwork:_}=w(),u=i(()=>{var e;return(e=s.veBalLockInfo)!=null&&e.isExpired?s.veBalLockInfo.lockedAmount:"0"}),b=i(()=>$(s.lockablePool.totalLiquidity).div(s.lockablePool.totalShares).times(u.value).toString()),d=i(()=>_.value?!0:$(u.value).isZero());return(e,c)=>{const v=E,P=R;return a(),T(W,null,[B(P,{shadow:"xl",exposeOverflow:"",noBorder:""},{header:f(()=>[o("div",lo,[o("div",ao,n(r(x).network.chainName),1),o("div",so,[o("h4",null,n(e.$t("unlockVeBAL.unlockForm.title")),1)])])]),default:f(()=>[B(eo,{lockablePool:e.lockablePool,lockablePoolTokenInfo:e.lockablePoolTokenInfo,totalLpTokens:u.value,fiatTotalLpTokens:b.value},null,8,["lockablePool","lockablePoolTokenInfo","totalLpTokens","fiatTotalLpTokens"]),o("div",no,[r(p)?(a(),t(v,{key:1,color:"gradient",block:"",disabled:d.value,onClick:c[0]||(c[0]=y=>l.value=!0)},{default:f(()=>[j(n(e.$t("preview")),1)]),_:1},8,["disabled"])):(a(),t(v,{key:0,label:e.$t("connectWallet"),color:"gradient",block:"",onClick:r(k)},null,8,["label","onClick"]))])]),_:1}),(a(),t(U,{to:"#modal"},[l.value?(a(),t(H,{key:0,lockablePool:e.lockablePool,lockablePoolTokenInfo:e.lockablePoolTokenInfo,veBalLockInfo:e.veBalLockInfo,totalLpTokens:u.value,fiatTotalLpTokens:b.value,onClose:c[1]||(c[1]=y=>l.value=!1)},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo","totalLpTokens","fiatTotalLpTokens"])):Q("",!0)]))],64)}}}),co=L({__name:"UnlockForm",setup(m){const{getToken:s}=D(),{isWalletReady:l}=w(),{lockablePoolId:p}=G(),k=A(p.value),_=M(),u=i(()=>k.isLoading.value),b=i(()=>_.isLoading.value),d=i(()=>k.data.value),e=i(()=>d.value!=null?s(d.value.address):null),c=i(()=>_.data.value),v=i(()=>l.value?u.value||b.value:u.value);return(P,y)=>{const h=F;return a(),t(V,{offsetGutters:""},{gutterRight:f(()=>[v.value?(a(),t(h,{key:0,class:"h-64"})):(a(),t(z,{key:1,veBalLockInfo:c.value},null,8,["veBalLockInfo"]))]),default:f(()=>{var I;return[v.value||!c.value||!d.value||!e.value?(a(),t(h,{key:0,class:"h-96"})):(a(),t(to,{key:(I=c.value)!=null&&I.hasExistingLock?"veBalUnlockForm-hasLock":"veBalUnlockForm-noLock",lockablePool:d.value,lockablePoolTokenInfo:e.value,veBalLockInfo:c.value},null,8,["lockablePool","lockablePoolTokenInfo","veBalLockInfo"]))]}),_:1})}}}),io={key:1,class:"text-center"},ro={class:"text-lg font-semibold"},yo=L({__name:"unlock-vebal",setup(m){return(s,l)=>r(q)?(a(),t(co,{key:0})):(a(),T("div",io,[o("div",ro,n(s.$t("veBAL.notSupported.title")),1),o("div",null,n(s.$t("veBAL.notSupported.description")),1)]))}});export{yo as default};
//# sourceMappingURL=unlock-vebal-1b57c691.js.map
