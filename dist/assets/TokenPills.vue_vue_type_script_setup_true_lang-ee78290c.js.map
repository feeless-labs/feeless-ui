{"version":3,"file":"TokenPills.vue_vue_type_script_setup_true_lang-ee78290c.js","sources":["../../src/components/tables/PoolsTable/TokenPills/BalanceTooltip.vue","../../src/components/tables/PoolsTable/TokenPills/TokenPills.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { computed } from 'vue';\n\nimport BalAsset from '@/components/_global/BalAsset/BalAsset.vue';\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\nimport { useTokens } from '@/providers/tokens.provider';\nimport { shortenLabel } from '@/lib/utils';\nimport useWeb3 from '@/services/web3/useWeb3';\nimport { PoolToken } from '@feeless/sdk';\n\n/**\n * TYPES\n */\ntype Props = {\n  token: PoolToken;\n  symbol: string;\n};\n\nconst props = defineProps<Props>();\n\n/**\n * COMPOSABLES\n */\nconst { fNum, toFiat } = useNumbers();\nconst { account } = useWeb3();\nconst { balanceFor } = useTokens();\n\n/**\n * COMPUTED\n */\nconst tokenBalance = computed(() => balanceFor(props.token.address));\nconst shortenedAccount = computed(() => shortenLabel(account.value));\n</script>\n\n<template>\n  <div>\n    <div class=\"mb-2 text-secondary\">\n      {{ $t('tokenPills.balanceTooltip.title', [shortenedAccount]) }}\n    </div>\n    <div class=\"flex\">\n      <BalAsset :address=\"token.address\" :size=\"36\" class=\"mr-2\" />\n      <div>\n        <div class=\"text-sm font-semibold\">\n          {{ fNum(tokenBalance, FNumFormats.token) }}\n          {{ symbol }}\n        </div>\n        <div class=\"text-secondary\">\n          {{ fNum(toFiat(tokenBalance, token.address), FNumFormats.fiat) }}\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","<script setup lang=\"ts\">\nimport { computed } from 'vue';\n\nimport useNumbers from '@/composables/useNumbers';\nimport { useTokens } from '@/providers/tokens.provider';\nimport { includesAddress } from '@/lib/utils';\nimport { PoolToken } from '@/services/pool/types';\n\nimport HiddenTokensPills from './HiddenTokensPills.vue';\nimport StableTokenPill from './StableTokenPill.vue';\nimport WeightedTokenPill from './WeightedTokenPill.vue';\n\ntype Props = {\n  tokens: PoolToken[];\n  isStablePool?: boolean;\n  selectedTokens?: string[];\n  pickedTokens?: string[];\n  isOnMigrationCard?: boolean;\n  isHovered?: boolean;\n};\n\nconst props = withDefaults(defineProps<Props>(), {\n  isStablePool: false,\n  selectedTokens: () => [],\n  pickedTokens: () => [],\n  isOnMigrationCard: false,\n  isHovered: false,\n});\n\nconst { fNum } = useNumbers();\nconst { getToken, hasBalance } = useTokens();\n\n/**\n * COMPUTED\n */\nconst visibleTokens = computed(() => props.tokens.slice(0, MAX_PILLS));\n\nconst hiddenTokens = computed(() => props.tokens.slice(MAX_PILLS));\n\nconst hasBalanceInHiddenTokens = computed(() =>\n  hiddenTokens.value.some(token => hasBalance(token.address))\n);\n\nconst isSelectedInHiddenTokens = computed(() =>\n  hiddenTokens.value.some(token =>\n    includesAddress(props.selectedTokens, token.address)\n  )\n);\n\nconst isSelectedInPickedTokens = computed(() =>\n  hiddenTokens.value.some(token =>\n    includesAddress(props.pickedTokens, token.address)\n  )\n);\n\n/**\n * METHODS\n */\nfunction symbolFor(token: PoolToken): string {\n  return getToken(token.address)?.symbol || token.symbol || '---';\n}\n\nfunction weightFor(token: PoolToken): string {\n  return fNum(token.weight || '0', {\n    style: 'percent',\n    maximumFractionDigits: 0,\n  });\n}\n\nconst MAX_PILLS = 8;\n</script>\n\n<template>\n  <div class=\"flex flex-wrap\">\n    <template v-if=\"isStablePool\">\n      <StableTokenPill\n        v-for=\"token in visibleTokens\"\n        :key=\"token.address\"\n        :hasBalance=\"hasBalance(token.address)\"\n        :symbol=\"symbolFor(token)\"\n        :token=\"token\"\n        :isSelected=\"includesAddress(selectedTokens, token.address)\"\n        :isPicked=\"includesAddress(pickedTokens, token.address)\"\n      />\n    </template>\n    <template v-else>\n      <WeightedTokenPill\n        v-for=\"token in visibleTokens\"\n        :key=\"token.address\"\n        :hasBalance=\"hasBalance(token.address)\"\n        :symbol=\"symbolFor(token)\"\n        :weight=\"weightFor(token)\"\n        :token=\"token\"\n        :isSelected=\"includesAddress(selectedTokens, token.address)\"\n        :isPicked=\"includesAddress(pickedTokens, token.address)\"\n        :isOnMigrationCard=\"isOnMigrationCard\"\n        :isHovered=\"isHovered\"\n      />\n      <HiddenTokensPills\n        v-if=\"hiddenTokens.length > 0\"\n        :tokens=\"hiddenTokens\"\n        :hasBalance=\"hasBalanceInHiddenTokens\"\n        :isSelected=\"isSelectedInHiddenTokens\"\n        :isPicked=\"isSelectedInPickedTokens\"\n      />\n    </template>\n  </div>\n</template>\n"],"names":["props","__props","fNum","toFiat","useNumbers","account","useWeb3","balanceFor","useTokens","tokenBalance","computed","shortenedAccount","shortenLabel","MAX_PILLS","getToken","hasBalance","visibleTokens","hiddenTokens","hasBalanceInHiddenTokens","token","isSelectedInHiddenTokens","includesAddress","isSelectedInPickedTokens","symbolFor","_a","weightFor"],"mappings":"guCAkBA,MAAAA,EAAAC,EAKA,CAAA,KAAAC,EAAA,OAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,QAAAC,GAAAC,IACA,CAAA,WAAAC,GAAAC,IAKAC,EAAAC,EAAA,IAAAH,EAAAP,EAAA,MAAA,OAAA,CAAA,EACAW,EAAAD,EAAA,IAAAE,EAAAP,EAAA,KAAA,CAAA,wlECsCAQ,EAAA,4OAhDA,MAAAb,EAAAC,EAQA,CAAA,KAAAC,GAAAE,IACA,CAAA,SAAAU,EAAA,WAAAC,CAAA,EAAAP,EAAA,EAKAQ,EAAAN,EAAA,IAAAV,EAAA,OAAA,MAAA,EAAAa,CAAA,CAAA,EAEAI,EAAAP,EAAA,IAAAV,EAAA,OAAA,MAAAa,CAAA,CAAA,EAEAK,EAAAR,EAAiC,IAAAO,EAAA,MAAA,KAAAE,GAAAJ,EAAAI,EAAA,OAAA,CAAA,CAC2B,EAG5DC,EAAAV,EAAiC,IAAAO,EAAA,MAAA,KACZE,GAAAE,EAAArB,EAAA,eAAAmB,EAAA,OAAA,CACkC,CACrD,EAGFG,EAAAZ,EAAiC,IAAAO,EAAA,MAAA,KACZE,GAAAE,EAAArB,EAAA,aAAAmB,EAAA,OAAA,CACgC,CACnD,EAMF,SAAAI,EAAAJ,EAAA,OACE,QAAAK,EAAAV,EAAAK,EAAA,OAAA,IAAA,YAAAK,EAAA,SAAAL,EAAA,QAAA,KAA0D,CAG5D,SAAAM,EAAAN,EAAA,CACE,OAAAjB,EAAAiB,EAAA,QAAA,IAAA,CAAiC,MAAA,UACxB,sBAAA,CACgB,CAAA,CACxB"}