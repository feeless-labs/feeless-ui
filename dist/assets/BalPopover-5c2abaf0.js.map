{"version":3,"file":"BalPopover-5c2abaf0.js","sources":["../../src/components/_global/BalPopover/BalPopover.vue"],"sourcesContent":["<script setup lang=\"ts\">\ntype PopoverTrigger = 'click' | 'hover';\n\ntype Props = {\n  trigger?: PopoverTrigger;\n  align?: string;\n  detached?: boolean;\n};\n\nconst props = withDefaults(defineProps<Props>(), {\n  trigger: 'click',\n  align: 'right',\n  detached: false,\n});\n\nconst emit = defineEmits<{\n  (e: 'show'): void;\n  (e: 'hide'): void;\n}>();\n\n/**\n * STATE\n */\nconst popoverOpened = ref(false);\nconst activatorWrapper = ref<HTMLDivElement>();\n\n/**\n * COMPUTED\n */\nconst popoverWrapperClasses = computed(() => ({\n  'bal-popover-wrapper-visible': popoverOpened.value,\n  [`${props.align}-0`]: !props.detached,\n  'align-center-transform': props.detached && props.align === 'center',\n  'align-right-transform': props.detached && props.align === 'right',\n}));\n\nconst popoverActivatorWrapperClasses = computed(() => ({\n  relative: !props.detached,\n}));\n\nconst activatorWidth = computed(() => activatorWrapper.value?.clientWidth || 0);\n\nconst activatorWidthPx = computed(() => `${activatorWidth.value}px`);\n\nconst activatorHalfWidthPx = computed(() => `${activatorWidth.value / 2}px`);\n\n/**\n * METHODS\n */\nfunction togglePopover() {\n  popoverOpened.value = !popoverOpened.value;\n}\n\nfunction showPopover() {\n  popoverOpened.value = true;\n}\n\nfunction hidePopover() {\n  popoverOpened.value = false;\n}\n\nfunction handleClickOutside() {\n  if (props.trigger === 'click') {\n    hidePopover();\n  }\n}\n\n/**\n * WATCHERS\n */\nwatch(popoverOpened, () => {\n  if (popoverOpened.value) {\n    emit('show');\n  } else {\n    emit('hide');\n  }\n});\n</script>\n\n<template>\n  <div\n    v-click-outside=\"handleClickOutside\"\n    :class=\"[popoverActivatorWrapperClasses]\"\n  >\n    <div\n      ref=\"activatorWrapper\"\n      class=\"group flex flex-col h-full bal-popover-activator\"\n      @click=\"trigger === 'click' && togglePopover()\"\n      @mouseenter=\"trigger === 'hover' && showPopover()\"\n      @mouseleave=\"trigger === 'hover' && hidePopover()\"\n    >\n      <slot name=\"activator\" />\n    </div>\n    <div :class=\"['bal-popover-wrapper', popoverWrapperClasses]\">\n      <BalCard shadow=\"lg\" v-bind=\"$attrs\" darkBgColor=\"800\">\n        <slot :close=\"hidePopover\" />\n      </BalCard>\n    </div>\n  </div>\n</template>\n\n<style scoped>\n.bal-popover-wrapper {\n  @apply invisible opacity-0 absolute z-30 pt-3;\n\n  transition: all 0.2s ease-in-out;\n}\n\n.bal-popover-wrapper-visible {\n  @apply visible opacity-100;\n}\n\n.bal-popover-wrapper:hover {\n  @apply visible opacity-100;\n}\n\n.align-center-transform {\n  transform: translateX(-webkit-calc(-50% + v-bind(activatorHalfWidthPx)));\n  transform: translateX(calc(-50% + v-bind(activatorHalfWidthPx)));\n}\n\n.align-right-transform {\n  transform: translateX(-webkit-calc(-100% + v-bind(activatorWidthPx)));\n  transform: translateX(calc(-100% + v-bind(activatorWidthPx)));\n}\n</style>\n"],"names":["props","__props","emit","__emit","popoverOpened","ref","activatorWrapper","popoverWrapperClasses","computed","popoverActivatorWrapperClasses","activatorWidth","_a","activatorWidthPx","activatorHalfWidthPx","togglePopover","showPopover","hidePopover","handleClickOutside","watch"],"mappings":"mXASA,MAAAA,EAAAC,EAMAC,EAAAC,EAQAC,EAAAC,EAAA,EAAA,EACAC,EAAAD,IAKAE,EAAAC,EAAA,KAAA,CAA8C,8BAAAJ,EAAA,MACC,CAAA,GAAAJ,EAAA,KAAA,IAAA,EAAA,CAAAA,EAAA,SAChB,yBAAAA,EAAA,UAAAA,EAAA,QAAA,SAC+B,wBAAAA,EAAA,UAAAA,EAAA,QAAA,OACD,EAAA,EAG7DS,EAAAD,EAAA,KAAA,CAAuD,SAAA,CAAAR,EAAA,QACpC,EAAA,EAGnBU,EAAAF,EAAA,IAAA,OAAA,QAAAG,EAAAL,EAAA,QAAA,YAAAK,EAAA,cAAA,EAAA,EAEAC,EAAAJ,EAAA,IAAA,GAAAE,EAAA,KAAA,IAAA,EAEAG,EAAAL,EAAA,IAAA,GAAAE,EAAA,MAAA,CAAA,IAAA,EAKA,SAAAI,GAAA,CACEV,EAAA,MAAA,CAAAA,EAAA,KAAqC,CAGvC,SAAAW,GAAA,CACEX,EAAA,MAAA,EAAsB,CAGxB,SAAAY,GAAA,CACEZ,EAAA,MAAA,EAAsB,CAGxB,SAAAa,GAAA,CACEjB,EAAA,UAAA,SACEgB,GACF,CAMF,OAAAE,EAAAd,EAAA,IAAA,CACEA,EAAA,MACEF,EAAA,MAAA,EAEAA,EAAA,MAAA,CACF,CAAA"}