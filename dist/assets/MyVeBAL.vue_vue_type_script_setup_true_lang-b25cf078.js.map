{"version":3,"file":"MyVeBAL.vue_vue_type_script_setup_true_lang-b25cf078.js","sources":["../../src/components/forms/lock_actions/LockForm/components/MyVeBAL.vue"],"sourcesContent":["<script setup lang=\"ts\">\nimport { format } from 'date-fns';\nimport { computed } from 'vue';\n\nimport { PRETTY_DATE_FORMAT } from '@/components/forms/lock_actions/constants';\nimport useNumbers, { FNumFormats } from '@/composables/useNumbers';\nimport useVeBal from '@/composables/useVeBAL';\nimport { bnum } from '@/lib/utils';\nimport { VeBalLockInfo } from '@/services/balancer/contracts/contracts/veBAL';\n\n/**\n * TYPES\n */\ntype Props = {\n  veBalLockInfo?: VeBalLockInfo;\n};\n\n/**\n * PROPS\n */\nconst props = defineProps<Props>();\n\n/**\n * COMPOSABLES\n */\nconst { veBalBalance, veBalTokenInfo } = useVeBal();\nconst { fNum } = useNumbers();\n\n/**\n * COMPUTED\n */\nconst percentVeBAL = computed(() => {\n  if (props.veBalLockInfo != null) {\n    const totalSupply = bnum(props.veBalLockInfo.totalSupply);\n\n    if (totalSupply.gt(0)) {\n      return bnum(veBalBalance.value).div(totalSupply).toString();\n    }\n  }\n\n  return '0';\n});\n</script>\n\n<template>\n  <BalCard noPad shadow=\"none\">\n    <div class=\"p-4 w-full border-b dark:border-gray-900\">\n      <h6>\n        {{ $t('getVeBAL.myVeBAL.title') }}\n      </h6>\n    </div>\n    <div class=\"flex justify-center items-center p-10 -mt-2\">\n      <div class=\"text-2xl font-semibold\">\n        {{ fNum(veBalBalance, FNumFormats.token) }}\n        {{ veBalTokenInfo?.symbol }}\n      </div>\n    </div>\n    <div class=\"flex justify-center border-t dark:border-gray-900\">\n      <div class=\"p-2 w-1/2 text-center border-r dark:border-gray-900\">\n        <div>\n          {{\n            veBalLockInfo?.hasExistingLock\n              ? fNum(percentVeBAL, {\n                  style: 'percent',\n                  maximumFractionDigits: 4,\n                })\n              : '-'\n          }}\n        </div>\n        <div class=\"text-gray-400\">\n          {{ $t('getVeBAL.myVeBAL.percentVeBAL') }}\n        </div>\n      </div>\n      <div class=\"p-3 w-1/2 text-center\">\n        <div>\n          {{\n            props.veBalLockInfo?.hasExistingLock\n              ? format(props.veBalLockInfo.lockedEndDate, PRETTY_DATE_FORMAT)\n              : '-'\n          }}\n        </div>\n        <div class=\"text-gray-400\">\n          {{\n            props.veBalLockInfo?.isExpired\n              ? $t('getVeBAL.myVeBAL.expiredOn')\n              : $t('getVeBAL.myVeBAL.lockedEndDate')\n          }}\n        </div>\n      </div>\n    </div>\n  </BalCard>\n</template>\n"],"names":["props","__props","veBalBalance","veBalTokenInfo","useVeBal","fNum","useNumbers","percentVeBAL","computed","totalSupply","bnum"],"mappings":"mlBAoBA,MAAAA,EAAAC,EAKA,CAAA,aAAAC,EAAA,eAAAC,CAAA,EAAAC,EAAA,EACA,CAAA,KAAAC,GAAAC,IAKAC,EAAAC,EAAA,IAAA,CACE,GAAAR,EAAA,eAAA,KAAA,CACE,MAAAS,EAAAC,EAAAV,EAAA,cAAA,WAAA,EAEA,GAAAS,EAAA,GAAA,CAAA,EACE,OAAAC,EAAAR,EAAA,KAAA,EAAA,IAAAO,CAAA,EAAA,UACF,CAGF,MAAA,GAAO,CAAA"}